1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': False}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_4_30.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-02 11:00:45,708 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-02 11:00:45,708 - DEBUG - Args: {'use_lazy_constraints': False}[0m
[34m2025-01-02 11:00:45,708 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_4_30.txt[0m
[34m2025-01-02 11:00:45,708 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,708 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,708 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,708 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,708 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,708 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,709 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:45,710 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,711 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,712 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,713 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,714 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,714 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,714 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,714 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,715 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,715 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,716 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,716 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Instance data:[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of patients: 30[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of beds: 40[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Average number of treatments per patient: 26.5[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Average number of treatment per stayed day: 2.2910662824207493[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of treatments: 795[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of resources: 10[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 22.441666666666695[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 41.99166666666666[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 15.5[0m
[34m2025-01-02 11:00:45,716 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 6.75[0m
[32m2025-01-02 11:00:45,717 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-02 11:00:45,717 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-02 11:00:45,717 - DEBUG - Setting options: Solver[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- number_of_threads to 4 (default)[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- log_to_file to True (default)[0m
[34m2025-01-02 11:00:45,717 - DEBUG -  ---- no_rel_heur_time to 1 (default)[0m
[32m2025-01-02 11:00:45,737 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 4
Set parameter Cuts to value 0
Set parameter NoRelHeurTime to value 1
Set parameter LazyConstraints to value 1
[34m2025-01-02 11:00:47,324 - DEBUG - Variables created.[0m
[34m2025-01-02 11:00:49,603 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-02 11:00:49,910 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-02 11:00:50,066 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-02 11:00:50,068 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-02 11:00:50,068 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-02 11:00:50,162 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-02 11:00:50,817 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-02 11:00:51,545 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-02 11:00:51,607 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-02 11:00:51,621 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-02 11:00:51,638 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-02 11:00:51,638 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-02 11:00:52,193 - INFO - Time to create model: 6.455[0m
[32m2025-01-02 11:00:52,193 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 4 threads

Optimize a model with 326992 rows, 253971 columns and 1514144 nonzeros
Model fingerprint: 0x556ad3ce
Variable types: 2 continuous, 253969 integer (253969 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 3e+03]
Presolve removed 138965 rows and 88859 columns (presolve time = 5s) ...
Presolve removed 138965 rows and 90119 columns (presolve time = 10s) ...
Presolve removed 142963 rows and 90191 columns
Presolve time: 14.32s
Presolved: 184029 rows, 163780 columns, 862870 nonzeros
Variable types: 0 continuous, 163780 integer (163737 binary)
Starting NoRel heuristic
Found phase-1 solution: relaxation 240
Found phase-1 solution: relaxation 237
Found phase-1 solution: relaxation 235
Root relaxation presolved: 183875 rows, 163934 columns, 850974 nonzeros

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Ordering time: 3.61s

Barrier statistics:
 Dense cols : 11
 AA' NZ     : 1.026e+06
 Factor NZ  : 8.308e+06 (roughly 120 MB of memory)
 Factor Ops : 2.084e+09 (less than 1 second per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0  -2.82783383e+06 -3.21448591e+05  7.45e+04 1.48e+00  3.19e+02    27s
   1  -2.17120128e+06 -3.33196315e+05  5.73e+04 2.21e+00  2.40e+02    27s
   2  -1.19203060e+06 -3.64327465e+05  3.17e+04 3.46e+00  1.35e+02    28s
   3  -5.76212153e+05 -3.94351002e+05  1.55e+04 9.11e-01  6.67e+01    29s
   4  -8.67816758e+04 -3.34502300e+05  2.37e+03 1.93e-11  1.15e+01    30s
   5  -4.06604984e+04 -2.34767744e+05  1.13e+03 8.03e-12  5.56e+00    31s
   6  -1.69379932e+04 -1.45386075e+05  4.84e+02 1.67e-12  2.48e+00    32s
   7  -1.23357024e+04 -9.12800992e+04  3.57e+02 1.11e-12  1.63e+00    33s
   8  -5.99645830e+03 -6.40279841e+04  1.81e+02 3.39e-12  8.90e-01    34s
   9  -2.25719819e+03 -3.89464300e+04  7.91e+01 2.81e-12  4.29e-01    34s
  10   1.57427971e+02 -1.80934536e+04  1.48e+01 3.90e-06  1.36e-01    35s
  11   5.40271844e+02 -6.37167406e+03  4.42e+00 1.30e-07  4.49e-02    36s
  12   6.65915459e+02 -3.64842264e+03  1.01e+00 2.39e-07  2.54e-02    37s
  13   6.79449788e+02 -2.20700104e+02  5.03e-01 8.50e-14  5.30e-03    38s
  14   6.83346004e+02  4.90052724e+02  1.44e-01 1.58e-06  1.13e-03    38s
  15   6.84976671e+02  6.30780633e+02  3.47e-02 7.13e-07  3.15e-04    39s
  16   6.84730680e+02  6.59022438e+02  1.29e-02 5.03e-07  1.48e-04    40s
  17   6.84553574e+02  6.63058116e+02  8.14e-03 4.16e-07  1.23e-04    41s
  18   6.84438238e+02  6.70447327e+02  5.89e-03 2.50e-07  8.05e-05    41s
  19   6.84329311e+02  6.72915097e+02  4.36e-03 2.07e-07  6.55e-05    42s
  20   6.84291465e+02  6.74850754e+02  3.64e-03 1.76e-07  5.42e-05    43s
  21   6.84205722e+02  6.78596348e+02  1.99e-03 8.43e-08  3.22e-05    44s
  22   6.84043611e+02  6.81454114e+02  4.44e-04 3.23e-08  1.47e-05    44s
  23   6.84008998e+02  6.83861191e+02  9.69e-06 3.39e-09  8.38e-07    45s
  24   6.84000114e+02  6.83997920e+02  8.22e-09 1.85e-10  1.24e-08    46s
  25   6.84000000e+02  6.83999998e+02  7.06e-12 4.05e-13  1.24e-11    47s

Barrier solved model in 25 iterations and 46.96 seconds (13.72 work units)
Optimal objective 6.84000000e+02


Root crossover log...

    2609 DPushes remaining with DInf 0.0000000e+00                47s
       0 DPushes remaining with DInf 0.0000000e+00                47s

   41405 PPushes remaining with PInf 0.0000000e+00                47s
    3668 PPushes remaining with PInf 0.0000000e+00                50s
     832 PPushes remaining with PInf 0.0000000e+00                56s
       0 PPushes remaining with PInf 0.0000000e+00                60s

  Push phase complete: Pinf 0.0000000e+00, Dinf 3.5866548e-10     60s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
   43914    6.8400000e+02   0.000000e+00   0.000000e+00     60s
Concurrent spin time: 0.02s

Solved with barrier
   43914    6.8400000e+02   0.000000e+00   0.000000e+00     60s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    3138 DPushes remaining with DInf 0.0000000e+00                61s

   22151 PPushes remaining with PInf 0.0000000e+00                61s
     845 PPushes remaining with PInf 0.0000000e+00                65s
       0 PPushes remaining with PInf 0.0000000e+00                70s

  Push phase complete: Pinf 0.0000000e+00, Dinf 3.3474884e-10     70s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
   66068    6.8400000e+02   0.000000e+00   0.000000e+00     70s
   66068    6.8400000e+02   0.000000e+00   0.000000e+00     70s

Root relaxation: objective 6.840000e+02, 66068 iterations, 50.32 seconds (13.18 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  684.00000    0 16498          -  684.00000      -     -  159s
     0     0  684.00000    0 16498          -  684.00000      -     -  232s
     0     2  684.00000    0 16498          -  684.00000      -     -  481s
     1     4  684.00000    1 7694          -  684.00000      - 98175 1264s
     3     8  684.00000    2 5156          -  684.00000      - 68122 2014s
     7    12  684.00000    3 3977          -  684.00000      - 47030 2302s
    11    16  684.00000    4 2962          -  684.00000      - 35444 2450s
    15    20  684.00000    5 2880          -  684.00000      - 27565 2457s
    19    24  684.00000    6 2903          -  684.00000      - 22403 2463s
    23    32  684.00000    7 2818          -  684.00000      - 18892 2473s
    31    80  684.00000    9 2786          -  684.00000      - 14643 2524s
    79   287  684.00000   21 2410          -  684.00000      -  7041 2657s
   288   548  684.00000   94  937          -  684.00000      -  2892 2845s
   571   743  684.00000   22 3749          -  684.00000      -  2041 3036s
   766  1064  684.00000   43 2568          -  684.00000      -  1822 3183s
  1087  1397  684.00000   97 1544          -  684.00000      -  1519 3344s
