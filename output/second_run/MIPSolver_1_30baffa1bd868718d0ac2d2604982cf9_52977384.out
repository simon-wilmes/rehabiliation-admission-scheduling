1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': True}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_6_15.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-06 00:51:08,223 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-06 00:51:08,223 - DEBUG - Args: {'use_lazy_constraints': True}[0m
[34m2025-01-06 00:51:08,223 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_6_15.txt[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - Instance data:[0m
[34m2025-01-06 00:51:08,228 - DEBUG - Number of patients: 21[0m
[34m2025-01-06 00:51:08,228 - DEBUG - Number of beds: 36[0m
[34m2025-01-06 00:51:08,229 - DEBUG - Average number of treatments per patient: 32.38095238095238[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Average number of treatment per stayed day: 2.3859649122807016[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Number of treatments: 680[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Number of resources: 10[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 19.704166666666676[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 35.95416666666666[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 15.5[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 6.75[0m
[32m2025-01-06 00:51:08,231 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-06 00:51:08,231 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-06 00:51:08,231 - DEBUG - Setting options: Solver[0m
[34m2025-01-06 00:51:08,231 - DEBUG -  ---- number_of_threads to 1 (default)[0m
[34m2025-01-06 00:51:08,231 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-06 00:51:08,231 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-06 00:51:08,231 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-06 00:51:08,232 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-06 00:51:08,232 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-06 00:51:08,232 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-06 00:51:08,232 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-06 00:51:08,232 - DEBUG -  ---- log_to_file to True (default)[0m
[32m2025-01-06 00:51:08,264 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 1
Set parameter Cuts to value 0
Set parameter LazyConstraints to value 1
[34m2025-01-06 00:51:10,764 - DEBUG - Variables created.[0m
[34m2025-01-06 00:51:13,684 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-06 00:51:14,075 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-06 00:51:14,367 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-06 00:51:14,369 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-06 00:51:14,369 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-06 00:51:14,573 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-06 00:51:15,435 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-06 00:51:16,574 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-06 00:51:16,653 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-06 00:51:16,670 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-06 00:51:16,688 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-06 00:51:16,688 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-06 00:51:17,240 - INFO - Time to create model: 8.975[0m
[32m2025-01-06 00:51:17,240 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 1 threads

Optimize a model with 549384 rows, 424127 columns and 2628615 nonzeros
Model fingerprint: 0x5c6e8ae4
Variable types: 2 continuous, 424125 integer (424125 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 3e+03]
Presolve removed 246842 rows and 166602 columns (presolve time = 5s) ...
Presolve removed 246842 rows and 166602 columns (presolve time = 10s) ...
Presolve removed 246842 rows and 166602 columns (presolve time = 15s) ...
Presolve removed 246842 rows and 166602 columns (presolve time = 20s) ...
Presolve removed 251552 rows and 168928 columns (presolve time = 25s) ...
Presolve removed 251506 rows and 168882 columns
Presolve time: 26.19s
Presolved: 297878 rows, 255245 columns, 1430298 nonzeros
Variable types: 0 continuous, 255245 integer (255198 binary)
Root relaxation presolved: 297755 rows, 255368 columns, 1409979 nonzeros


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0   -3.3910000e+03   1.033884e+05   0.000000e+00     28s
   23913    6.6000628e+02   4.154106e+03   0.000000e+00     30s
   34482    6.6028415e+02   3.044821e+03   0.000000e+00     35s
   39198    6.6028418e+02   3.149822e+03   0.000000e+00     40s
   43652    6.6028420e+02   2.079407e+03   0.000000e+00     45s
   46796    6.6028421e+02   1.751507e+03   0.000000e+00     50s
   50200    6.6028422e+02   1.120297e+03   0.000000e+00     55s
   52558    6.6828422e+02   1.947136e+03   0.000000e+00     60s
   54366    6.6828422e+02   1.714559e+04   0.000000e+00     65s
   56182    6.6828422e+02   4.011025e+02   0.000000e+00     71s
   57852    6.6828423e+02   3.296164e+02   0.000000e+00     76s
   59596    6.6828423e+02   3.239335e+02   0.000000e+00     81s
   61620    6.6828424e+02   3.586721e+02   0.000000e+00     86s
   63160    6.6828424e+02   2.458627e+01   0.000000e+00     90s
   64630    6.6828424e+02   2.367383e+01   0.000000e+00     95s
   65810    6.6828424e+02   6.883445e+00   0.000000e+00    100s
   66372    6.6827778e+02   0.000000e+00   0.000000e+00    103s
   66372    6.6827778e+02   0.000000e+00   0.000000e+00    103s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    3553 DPushes remaining with DInf 0.0000000e+00               103s
       0 DPushes remaining with DInf 0.0000000e+00               103s

    7887 PPushes remaining with PInf 0.0000000e+00               103s
       0 PPushes remaining with PInf 0.0000000e+00               104s

  Push phase complete: Pinf 0.0000000e+00, Dinf 7.0816303e-11    104s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
   74271    6.6827778e+02   0.000000e+00   0.000000e+00    104s
   74271    6.6827778e+02   0.000000e+00   0.000000e+00    104s

Root relaxation: objective 6.682778e+02, 74271 iterations, 76.65 seconds (105.32 work units)
Total elapsed time = 218.37s
Total elapsed time = 491.72s
Total elapsed time = 569.63s
Total elapsed time = 615.97s

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  668.27778    0 3034          -  668.27778      -     -  647s
     0     0  668.27778    0 3034          -  668.27778      -     -  651s
     0     0  668.27778    0 2842          -  668.27778      -     -  895s
H    0     0                     740.0000000  668.27778  9.69%     -  898s
     0     0  668.27778    0 2842  740.00000  668.27778  9.69%     - 1059s
     0     0  668.27778    0 2842  740.00000  668.27778  9.69%     - 1060s
H    0     0                     700.0000000  668.27778  4.53%     - 1064s
     0     0  668.27778    0 2682  700.00000  668.27778  4.53%     - 1260s
     0     0  668.27778    0 2682  700.00000  668.27778  4.53%     - 1267s
     0     2  668.27778    0 2682  700.00000  668.27778  4.53%     - 1269s
     1     3  688.00000    1  561  700.00000  668.27778  4.53% 177676 1318s
     2     4  668.27778    1 3176  700.00000  668.27778  4.53% 107910 1392s
     7     9  688.00000    4  346  700.00000  668.27778  4.53% 31982 1396s
    23    19  688.00000   16  292  700.00000  668.27778  4.53%  9795 1400s
    27    23  688.00000   19  277  700.00000  668.27778  4.53%  8344 1407s
    31    27  688.00000   21  282  700.00000  668.27778  4.53%  7443 1410s
    52    48  688.00000   39  129  700.00000  668.27778  4.53%  4485 1416s
    54    50  688.00000   40  553  700.00000  668.27778  4.53%  4691 1431s
    58    54  688.00000   43 1755  700.00000  668.27778  4.53%  6094 1517s
    67    63  688.00000   49  250  700.00000  668.27778  4.53%  5329 1520s
    79    75  688.00000   56  109  700.00000  668.27778  4.53%  4544 1525s
    82    78  688.00000   58  109  700.00000  668.27778  4.53%  4398 1530s
   102    98  688.00000   72  291  700.00000  668.27778  4.53%  3728 1535s
   107   103  688.00000   77  304  700.00000  668.27778  4.53%  3565 1540s
   108   104  688.00000   77  282  700.00000  668.27778  4.53%  3532 1546s
   130   126  688.00000   94   32  700.00000  668.27778  4.53%  2952 1553s
   135   131  688.00000   98   18  700.00000  668.27778  4.53%  2845 1561s
   147   143  688.00000  107  180  700.00000  668.27778  4.53%  2726 1565s
   156   152  688.00000  113   12  700.00000  668.27778  4.53%  2658 1573s
   159   155  688.00000  116   97  700.00000  668.27778  4.53%  2626 1575s
   162   158  688.00000  119   75  700.00000  668.27778  4.53%  2578 1583s
   170   166  688.00000  125   31  700.00000  668.27778  4.53%  2467 1585s
   182   178  688.00000  136   56  700.00000  668.27778  4.53%  2332 1591s
   189   185  688.00000  140    9  700.00000  668.27778  4.53%  2260 1604s
   190   186  688.00000  141   29  700.00000  668.27778  4.53%  2248 1605s
*  196     4             146     688.0000000  668.27778  2.87%  2185 1606s
   200     2  668.27778    2 3087  688.00000  668.27778  2.87%  2287 1623s
   202     4  668.27778    4 3914  688.00000  668.27778  2.87%  2805 1706s
   205     3  668.27778    5 3453  688.00000  668.27778  2.87%  2965 1738s
   206     2     cutoff    6       688.00000  668.27778  2.87%  3458 1829s
   207     3  668.27778    6 3268  688.00000  668.27778  2.87%  3619 1856s
   208     2     cutoff    7       688.00000  668.27778  2.87%  4141 1933s
   209     3  668.27778    7 3154  688.00000  668.27778  2.87%  4266 1957s
   211     5  668.27778    9 3954  688.00000  668.27778  2.87%  4658 2026s
   212     6  668.27778    9 3265  688.00000  668.27778  2.87%  4795 2047s
   213     7  668.27778   10 4120  688.00000  668.27778  2.87%  5275 2152s
   214     8  668.27778   10 3226  688.00000  668.27778  2.87%  5388 2170s
   215     9  668.27778   11 3256  688.00000  668.27778  2.87%  5416 2190s
   216    10  668.27778   12 3264  688.00000  668.27778  2.87%  5392 2204s
   217    11  668.27778   13 3227  688.00000  668.27778  2.87%  5370 2205s
   218    12  668.27778   14 3987  688.00000  668.27778  2.87%  5782 2293s
   219    13  668.27778   14 3136  688.00000  668.27778  2.87%  5848 2307s
   220    14  668.27778   15 4022  688.00000  668.27778  2.87%  6248 2387s
   221    15  668.27778   15 3113  688.00000  668.27778  2.87%  6325 2400s
   222    16  668.27778   16 3555  688.00000  668.27778  2.87%  6574 2446s
   223    17  668.27778   16 3066  688.00000  668.27778  2.87%  6631 2457s
   224    18  668.27778   17 2998  688.00000  668.27778  2.87%  6700 2478s
   228    22  668.27778   20 2995  688.00000  668.27778  2.87%  6591 2480s
   230    24  668.27778   22 3937  688.00000  668.27778  2.87%  6881 2545s
   231    25  668.27778   22 3069  688.00000  668.27778  2.87%  6964 2562s
   232    26  668.27778   23 3962  688.00000  668.27778  2.87%  7322 2640s
   234    26  668.27778   24 3530  688.00000  668.27778  2.87%  7356 2660s
   235    27  668.27778   24 3699  688.00000  668.27778  2.87%  7419 2708s
   239    31  668.27778   28 3488  688.00000  668.27778  2.87%  7300 2710s
   241    33  668.27778   30 4051  688.00000  668.27778  2.87%  7651 2794s
   242    34  668.27778   30 3429  688.00000  668.27778  2.87%  7710 2811s
   243    35  668.27778   31 4203  688.00000  668.27778  2.87%  8076 2943s
   244    36  668.27778   31 3405  688.00000  668.27778  2.87%  8144 2961s
   245    37  668.27778   32 3339  688.00000  668.27778  2.87%  8197 2973s
   247    39  668.27778   34 3500  688.00000  668.27778  2.87%  8384 3015s
   248    40  668.27778   34 3286  688.00000  668.27778  2.87%  8413 3024s
   249    41  668.27778   35 3724  688.00000  668.27778  2.87%  8641 3070s
   250    42  668.27778   35 3278  688.00000  668.27778  2.87%  8724 3085s
   252    44  668.27778   36 3200  688.00000  668.27778  2.87%  8723 3098s
   253    45  668.27778   37 3217  688.00000  668.27778  2.87%  8759 3116s
   256    48  668.27778   39 3235  688.00000  668.27778  2.87%  8751 3139s
   258    50  668.27778   41 3183  688.00000  668.27778  2.87%  8689 3140s
   261    53  668.27778   43 3200  688.00000  668.27778  2.87%  8595 3146s
   265    57  668.27778   46 3217  688.00000  668.27778  2.87%  8562 3161s
   266    58  668.27778   47 3180  688.00000  668.27778  2.87%  8595 3174s
   267    59  668.27778   48 3167  688.00000  668.27778  2.87%  8568 3175s
   268    60  668.27778   49 3163  688.00000  668.27778  2.87%  8567 3185s
   270    62  668.27778   50 3183  688.00000  668.27778  2.87%  8509 3206s
   271    63  668.27778   51 3183  688.00000  668.27778  2.87%  8561 3227s
   272    64  668.27778   52 4068  688.00000  668.27778  2.87%  8829 3299s
   273    65  668.27778   52 3136  688.00000  668.27778  2.87%  8836 3305s
   275    67  668.27778   53 3099  688.00000  668.27778  2.87%  8841 3316s
   276    68  668.27778   54 3083  688.00000  668.27778  2.87%  8854 3323s
   277    69  668.27778   54 3192  688.00000  668.27778  2.87%  8922 3336s
   278    70  668.27778   55 3179  688.00000  668.27778  2.87%  8950 3345s
   281    73  668.27778   57 3850  688.00000  668.27778  2.87%  9041 3380s
   282    74  668.27778   57 3063  688.00000  668.27778  2.87%  9067 3390s
   283    75  668.27778   58 3092  688.00000  668.27778  2.87%  9061 3398s
   284    76  668.27778   59 3092  688.00000  668.27778  2.87%  9055 3407s
   285    77  668.27778   59 3149  688.00000  668.27778  2.87%  9090 3416s
   287    79  668.27778   61 4084  688.00000  668.27778  2.87%  9355 3513s
   288    80  668.27778   61 3094  688.00000  668.27778  2.87%  9369 3527s
   289    81  668.27778   62 3122  688.00000  668.27778  2.87%  9369 3537s
   290    82  668.27778   62 3151  688.00000  668.27778  2.87%  9386 3547s
   291    83  668.28571   63 3007  688.00000  668.27778  2.87%  9421 3561s
   292    84  668.27778   63 3157  688.00000  668.27778  2.87%  9458 3574s
