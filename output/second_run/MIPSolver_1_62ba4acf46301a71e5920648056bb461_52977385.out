1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': True}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_5_15.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-06 00:51:08,223 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-06 00:51:08,223 - DEBUG - Args: {'use_lazy_constraints': True}[0m
[34m2025-01-06 00:51:08,224 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_5_15.txt[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-06 00:51:08,224 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,225 - DEBUG - ADD RESOURCES[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,226 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,227 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,228 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,229 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,229 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,229 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,229 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,231 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,231 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,231 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,231 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,231 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,231 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,231 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,232 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,232 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,232 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,232 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,232 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,232 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,232 - DEBUG - ADD PATIENTS[0m
[34m2025-01-06 00:51:08,232 - DEBUG - Instance data:[0m
[34m2025-01-06 00:51:08,232 - DEBUG - Number of patients: 40[0m
[34m2025-01-06 00:51:08,232 - DEBUG - Number of beds: 40[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Average number of treatments per patient: 23.325[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Average number of treatment per stayed day: 2.2004716981132075[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Number of treatments: 933[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Number of resources: 10[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 25.816666666666716[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 48.36666666666666[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 15.5[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 6.75[0m
[32m2025-01-06 00:51:08,233 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-06 00:51:08,233 - DEBUG - Setting options: Solver[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- number_of_threads to 1 (default)[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-06 00:51:08,233 - DEBUG -  ---- log_to_file to True (default)[0m
[32m2025-01-06 00:51:08,267 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 1
Set parameter Cuts to value 0
Set parameter LazyConstraints to value 1
[34m2025-01-06 00:51:11,571 - DEBUG - Variables created.[0m
[34m2025-01-06 00:51:15,468 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-06 00:51:15,989 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-06 00:51:16,393 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-06 00:51:16,395 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-06 00:51:16,395 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-06 00:51:16,602 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-06 00:51:17,979 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-06 00:51:19,405 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-06 00:51:19,515 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-06 00:51:19,543 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-06 00:51:19,570 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-06 00:51:19,571 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-06 00:51:21,230 - INFO - Time to create model: 12.963[0m
[32m2025-01-06 00:51:21,230 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 1 threads

Optimize a model with 706685 rows, 552362 columns and 3415655 nonzeros
Model fingerprint: 0x5e1a520f
Variable types: 2 continuous, 552360 integer (552360 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 4e+03]
Presolve removed 296747 rows and 187399 columns (presolve time = 5s) ...
Presolve removed 296747 rows and 191205 columns (presolve time = 10s) ...
Presolve removed 296747 rows and 191205 columns (presolve time = 15s) ...
Presolve removed 296747 rows and 191205 columns (presolve time = 20s) ...
Presolve removed 296747 rows and 191205 columns (presolve time = 25s) ...
Presolve removed 304427 rows and 193677 columns
Presolve time: 29.55s
Presolved: 402258 rows, 358685 columns, 1970989 nonzeros
Variable types: 0 continuous, 358685 integer (358582 binary)
Root relaxation presolved: 402059 rows, 358884 columns, 1944930 nonzeros


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0   -7.2840000e+03   1.183929e+05   0.000000e+00     36s
   36339    6.6000700e+02   7.524871e+03   0.000000e+00     40s
   44277    6.6800705e+02   4.582417e+03   0.000000e+00     45s
   48687    6.6800707e+02   1.127569e+04   0.000000e+00     50s
   54273    6.6800709e+02   8.326417e+03   0.000000e+00     55s
   57507    6.6800710e+02   1.417681e+04   0.000000e+00     60s
   59859    6.6800711e+02   2.529361e+03   0.000000e+00     65s
   61917    6.6800711e+02   3.188633e+03   0.000000e+00     71s
   64269    6.8800711e+02   6.135144e+03   0.000000e+00     76s
   66033    6.8800712e+02   2.150700e+03   0.000000e+00     80s
   68067    6.8800713e+02   8.006627e+03   0.000000e+00     85s
   70125    6.8800716e+02   3.947278e+04   0.000000e+00     91s
   71889    6.8800719e+02   1.560912e+03   0.000000e+00     95s
   73653    6.8800720e+02   1.111912e+03   0.000000e+00    101s
   75123    6.8800721e+02   9.451690e+03   0.000000e+00    106s
   76593    6.8800722e+02   1.831900e+03   0.000000e+00    110s
   78357    6.8800724e+02   3.813619e+03   0.000000e+00    116s
   79827    6.8800725e+02   2.331606e+03   0.000000e+00    120s
   80905    6.8800725e+02   2.240459e+03   0.000000e+00    125s
   81945    6.8800726e+02   1.077277e+04   0.000000e+00    130s
   83411    6.8800727e+02   3.947951e+03   0.000000e+00    135s
   84881    6.8800728e+02   1.912597e+04   0.000000e+00    140s
   86631    6.8800729e+02   1.663349e+04   0.000000e+00    146s
   88101    6.8800729e+02   7.211091e+03   0.000000e+00    151s
   89273    6.8800730e+02   1.062222e+04   0.000000e+00    156s
   90739    6.8800731e+02   2.884081e+03   0.000000e+00    161s
   91915    6.8800731e+02   7.032000e+03   0.000000e+00    165s
   93295    6.8800732e+02   1.572491e+03   0.000000e+00    171s
   94395    6.8800732e+02   4.241183e+03   0.000000e+00    176s
   95385    6.8800733e+02   3.558901e+03   0.000000e+00    181s
   96305    6.8800733e+02   7.167740e+03   0.000000e+00    186s
   97315    6.8800733e+02   2.967237e+03   0.000000e+00    191s
   98439    6.8800734e+02   1.291741e+03   0.000000e+00    196s
   99429    6.8800734e+02   4.023779e+03   0.000000e+00    201s
  100429    6.8800734e+02   8.330982e+03   0.000000e+00    206s
  101299    6.8800734e+02   1.085915e+03   0.000000e+00    210s
  102489    6.8800735e+02   4.357326e+03   0.000000e+00    216s
  103359    6.8800735e+02   2.759732e+03   0.000000e+00    221s
  104029    6.8800735e+02   3.132559e+04   0.000000e+00    225s
  104979    6.8800735e+02   7.938719e+02   0.000000e+00    230s
  105879    6.8800736e+02   7.659619e+02   0.000000e+00    235s
  106739    6.8800736e+02   2.453423e+03   0.000000e+00    240s
  107669    6.8800736e+02   1.769234e+03   0.000000e+00    246s
  108449    6.8800736e+02   4.857336e+02   0.000000e+00    251s
  108989    6.8800736e+02   2.242100e+03   0.000000e+00    255s
  109779    6.8800736e+02   8.592709e+03   0.000000e+00    260s
  110609    6.8800737e+02   4.603967e+03   0.000000e+00    265s
  111299    6.8800737e+02   1.126553e+03   0.000000e+00    270s
  112069    6.8800738e+02   8.501754e+02   0.000000e+00    275s
  113139    6.8800739e+02   4.635551e+03   0.000000e+00    281s
  113959    6.8800739e+02   1.017866e+03   0.000000e+00    286s
  114809    6.8800740e+02   1.739575e+03   0.000000e+00    291s
  115619    6.8800740e+02   3.024013e+02   0.000000e+00    296s
  116459    6.8800741e+02   9.621986e+02   0.000000e+00    301s
  117029    6.8800741e+02   2.550574e+02   0.000000e+00    305s
  117779    6.8800741e+02   3.964590e+02   0.000000e+00    310s
  118769    6.8800742e+02   1.054204e+03   0.000000e+00    316s
  119559    6.8800742e+02   6.376945e+01   0.000000e+00    321s
  120309    6.8800742e+02   1.525276e+03   0.000000e+00    325s
  121039    6.8800742e+02   1.660524e+02   0.000000e+00    330s
  121719    6.8800743e+02   5.261315e+02   0.000000e+00    336s
  122429    6.8800743e+02   1.616821e+03   0.000000e+00    341s
  123119    6.8800743e+02   7.902129e+01   0.000000e+00    346s
  123799    6.8800743e+02   2.343013e+02   0.000000e+00    351s
  124629    6.8800743e+02   4.223207e+02   0.000000e+00    356s
  125129    6.8800743e+02   2.149483e+02   0.000000e+00    360s
  125769    6.8800743e+02   5.687017e+01   0.000000e+00    365s
  126589    6.8800743e+02   2.623516e+01   0.000000e+00    371s
  127249    6.8800743e+02   1.366882e+02   0.000000e+00    376s
  127889    6.8800743e+02   2.579447e-01   0.000000e+00    380s
  128154    6.8800000e+02   0.000000e+00   0.000000e+00    382s
  128154    6.8800000e+02   0.000000e+00   0.000000e+00    383s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    3731 DPushes remaining with DInf 0.0000000e+00               383s
       0 DPushes remaining with DInf 0.0000000e+00               383s

    7501 PPushes remaining with PInf 0.0000000e+00               383s
       0 PPushes remaining with PInf 0.0000000e+00               383s

  Push phase complete: Pinf 0.0000000e+00, Dinf 6.0996826e-11    383s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  135659    6.8800000e+02   0.000000e+00   0.000000e+00    383s
  135659    6.8800000e+02   0.000000e+00   0.000000e+00    384s

Root relaxation: objective 6.880000e+02, 135659 iterations, 349.70 seconds (384.85 work units)
Total elapsed time = 522.56s
Total elapsed time = 888.41s
Total elapsed time = 916.32s
Total elapsed time = 928.41s

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  688.00000    0  341          -  688.00000      -     -  935s
     0     0  688.00000    0  341          -  688.00000      -     -  943s
     0     0  688.00000    0   81          -  688.00000      -     - 1107s
     0     0  688.00000    0   71          -  688.00000      -     - 2022s
     0     2  688.00000    0   71          -  688.00000      -     - 2022s
     1     3  688.00000    1  805          -  688.00000      - 149022 2046s
     2     4  688.00000    1  545          -  688.00000      - 88032 2069s
     3     5  688.00000    2  508          -  688.00000      - 58981 2071s
     5     7  688.00000    4  524          -  688.00000      - 36923 2076s
     9    11  688.00000    7  574          -  688.00000      - 20889 2080s
    13    15  688.00000    9  648          -  688.00000      - 14992 2126s
    14    16  688.00000   10   66          -  688.00000      - 14211 2213s
    16    18  688.00000   12   80          -  688.00000      - 12584 2215s
    23    25  688.00000   18   57          -  688.00000      -  8913 2220s
    25    27  688.00000   19  342          -  688.00000      -  8742 2231s
    33    35  688.00000   27   42          -  688.00000      -  6755 2235s
    40    42  688.00000   32   23          -  688.00000      -  5693 2240s
    44    46  688.00000   34  641          -  688.00000      -  5736 2263s
    50    52  688.00000   40   23          -  688.00000      -  5106 2265s
    58    60  688.00000   46   19          -  688.00000      -  4482 2270s
    65    67  688.00000   51   91          -  688.00000      -  4073 2275s
    67    69  688.00000   53  201          -  688.00000      -  4148 2287s
    69    71  688.00000   54   53          -  688.00000      -  4192 2295s
    71    73  688.00000   56 4278          -  688.00000      -  7725 3178s
    72    74  688.00000   56  331          -  688.00000      -  7784 3188s
    76    78  688.00000   59  347          -  688.00000      -  7394 3190s
    77    79  688.00000   60   24          -  688.00000      - 11816 3318s
    79    81  688.00000   62   84          -  688.00000      - 11537 3320s
    90    92  688.00000   70   23          -  688.00000      - 13307 3356s
   105   107  688.00000   84   16          -  688.00000      - 11447 3360s
   109   111  688.00000   88  308          -  688.00000      - 11256 3380s
   111   113  688.00000   90   24          -  688.00000      - 13636 3474s
   112   114  688.00000   91   37          -  688.00000      - 13529 3475s
   113   115  688.00000   91  134          -  688.00000      - 13606 3484s
   114   116  688.00000   92  104          -  688.00000      - 13507 3487s
