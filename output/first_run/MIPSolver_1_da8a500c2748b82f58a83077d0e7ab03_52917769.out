1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': False}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_1_15.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-02 12:55:56,772 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-02 12:55:56,772 - DEBUG - Args: {'use_lazy_constraints': False}[0m
[34m2025-01-02 12:55:56,772 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_1_15.txt[0m
[34m2025-01-02 12:55:56,782 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 12:55:56,783 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 12:55:56,784 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,785 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,786 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,787 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,788 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,788 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,788 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,788 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,788 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,789 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,790 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,791 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,791 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Instance data:[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of patients: 40[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of beds: 40[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Average number of treatments per patient: 29.525[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Average number of treatment per stayed day: 2.135623869801085[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of treatments: 1181[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of resources: 9[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 38.3375[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 74.50000000000004[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 26.0[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 18.9375[0m
[32m2025-01-02 12:55:56,791 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-02 12:55:56,791 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-02 12:55:56,792 - DEBUG - Setting options: Solver[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- number_of_threads to 4 (default)[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- log_to_file to True (default)[0m
[34m2025-01-02 12:55:56,792 - DEBUG -  ---- no_rel_heur_time to 1 (default)[0m
[32m2025-01-02 12:55:56,821 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 4
Set parameter Cuts to value 0
Set parameter NoRelHeurTime to value 1
Set parameter LazyConstraints to value 1
[34m2025-01-02 12:56:01,324 - DEBUG - Variables created.[0m
[34m2025-01-02 12:56:07,689 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-02 12:56:08,757 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-02 12:56:09,530 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-02 12:56:09,534 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-02 12:56:09,534 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-02 12:56:09,737 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-02 12:56:11,917 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-02 12:56:13,500 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-02 12:56:13,721 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-02 12:56:13,772 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-02 12:56:13,825 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-02 12:56:13,825 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-02 12:56:17,119 - INFO - Time to create model: 20.298[0m
[32m2025-01-02 12:56:17,119 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 4 threads

Optimize a model with 977953 rows, 744676 columns and 4993059 nonzeros
Model fingerprint: 0x81e68645
Variable types: 2 continuous, 744674 integer (744674 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 5e+03]
Presolve removed 364258 rows and 249331 columns (presolve time = 5s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 10s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 15s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 20s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 25s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 30s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 35s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 40s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 45s) ...
Presolve removed 364921 rows and 249334 columns (presolve time = 51s) ...
Presolve removed 364921 rows and 256550 columns (presolve time = 55s) ...
Presolve removed 364921 rows and 256550 columns (presolve time = 60s) ...
Presolve removed 372731 rows and 256836 columns (presolve time = 65s) ...
Presolve removed 372585 rows and 256690 columns
Presolve time: 69.87s
Presolved: 605368 rows, 487986 columns, 3090649 nonzeros
Variable types: 0 continuous, 487986 integer (487839 binary)
Starting NoRel heuristic
Found phase-1 solution: relaxation 166
Root relaxation presolved: 605142 rows, 488212 columns, 3051821 nonzeros

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Elapsed ordering time = 5s
Elapsed ordering time = 10s
Elapsed ordering time = 15s
Elapsed ordering time = 20s
Elapsed ordering time = 25s
Elapsed ordering time = 30s
Elapsed ordering time = 35s
Elapsed ordering time = 40s
Elapsed ordering time = 45s
Elapsed ordering time = 50s
Elapsed ordering time = 55s
Ordering time: 60.41s

Barrier statistics:
 Dense cols : 181
 AA' NZ     : 8.913e+06
 Factor NZ  : 1.137e+08 (roughly 1.3 GB of memory)
 Factor Ops : 5.416e+10 (roughly 2 seconds per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0  -1.48098217e+07 -1.36697194e+06  2.91e+05 7.08e-01  2.58e+02   151s
   1  -1.11974623e+07 -1.42533148e+06  2.20e+05 3.19e+00  1.98e+02   160s
   2  -8.58932673e+06 -1.53240667e+06  1.69e+05 2.49e+00  1.52e+02   169s
   3  -6.03234261e+06 -1.61080385e+06  1.19e+05 1.92e+00  1.08e+02   181s
   4  -4.11598132e+06 -1.71477418e+06  8.13e+04 7.54e-01  7.49e+01   193s
   5  -1.76799686e+06 -1.68662444e+06  3.50e+04 1.55e-01  3.32e+01   208s
   6  -4.04175272e+05 -1.37997702e+06  8.02e+03 5.84e-02  8.34e+00   218s
   7  -1.96458366e+05 -8.92575306e+05  3.91e+03 1.00e-02  3.94e+00   231s
   8  -1.11460857e+05 -4.97045392e+05  2.23e+03 2.51e-03  2.05e+00   241s
   9  -5.97744455e+04 -2.93876029e+05  1.21e+03 1.77e-03  1.06e+00   252s
  10  -4.71079687e+04 -2.15613321e+05  9.52e+02 1.03e-03  7.90e-01   260s
  11  -3.76557911e+04 -1.69372513e+05  7.63e+02 7.15e-04  6.07e-01   268s
  12  -2.55519348e+04 -1.20031836e+05  5.21e+02 2.74e-04  3.99e-01   276s
  13  -1.22063271e+04 -8.64269811e+04  2.57e+02 1.44e-04  2.12e-01   285s
  14  -5.83300456e+03 -5.99624882e+04  1.31e+02 8.49e-05  1.17e-01   294s
  15  -1.16360193e+03 -3.78543973e+04  3.95e+01 5.47e-05  5.11e-02   304s
  16   5.35048211e+02 -1.70598030e+04  6.02e+00 2.15e-05  1.80e-02   313s
  17   8.18792535e+02 -3.89108452e+03  3.34e-01 9.97e-06  4.38e-03   321s
  18   8.27722579e+02  2.09684597e+02  8.93e-02 4.30e-05  5.75e-04   330s
  19   8.28072638e+02  6.47112438e+02  6.22e-02 3.39e-06  1.70e-04   340s
  20   8.30110177e+02  8.27996839e+02  1.34e-12 3.58e-06  1.95e-06   349s
  21   8.30007701e+02  8.29956857e+02  6.25e-13 6.90e-08  4.69e-08   358s
  22   8.30000000e+02  8.29999997e+02  4.27e-13 7.11e-11  2.77e-12   365s

Barrier solved model in 22 iterations and 365.35 seconds (123.07 work units)
Optimal objective 8.30000000e+02


Root crossover log...

   19001 DPushes remaining with DInf 0.0000000e+00               367s
       0 DPushes remaining with DInf 0.0000000e+00               367s

  246887 PPushes remaining with PInf 0.0000000e+00               368s
  120920 PPushes remaining with PInf 0.0000000e+00               370s
   94116 PPushes remaining with PInf 0.0000000e+00               375s
   74542 PPushes remaining with PInf 0.0000000e+00               380s
   65821 PPushes remaining with PInf 0.0000000e+00               385s
   60951 PPushes remaining with PInf 0.0000000e+00               390s
   57161 PPushes remaining with PInf 0.0000000e+00               395s
   53595 PPushes remaining with PInf 0.0000000e+00               401s
   48640 PPushes remaining with PInf 0.0000000e+00               405s
   43957 PPushes remaining with PInf 0.0000000e+00               411s
   40722 PPushes remaining with PInf 0.0000000e+00               415s
   37904 PPushes remaining with PInf 0.0000000e+00               421s
   36617 PPushes remaining with PInf 0.0000000e+00               425s
   34780 PPushes remaining with PInf 0.0000000e+00               430s
   33598 PPushes remaining with PInf 0.0000000e+00               435s
   31997 PPushes remaining with PInf 0.0000000e+00               440s
   29908 PPushes remaining with PInf 0.0000000e+00               448s
   28931 PPushes remaining with PInf 0.0000000e+00               450s
   27236 PPushes remaining with PInf 0.0000000e+00               456s
   25689 PPushes remaining with PInf 0.0000000e+00               461s
   24534 PPushes remaining with PInf 0.0000000e+00               467s
   23757 PPushes remaining with PInf 0.0000000e+00               471s
   22791 PPushes remaining with PInf 0.0000000e+00               476s
   21935 PPushes remaining with PInf 0.0000000e+00               480s
   21168 PPushes remaining with PInf 0.0000000e+00               485s
   20051 PPushes remaining with PInf 0.0000000e+00               492s
   19318 PPushes remaining with PInf 0.0000000e+00               497s
   18565 PPushes remaining with PInf 0.0000000e+00               502s
   17836 PPushes remaining with PInf 0.0000000e+00               507s
   17474 PPushes remaining with PInf 0.0000000e+00               511s
   16755 PPushes remaining with PInf 0.0000000e+00               517s
   16191 PPushes remaining with PInf 0.0000000e+00               521s
   15396 PPushes remaining with PInf 0.0000000e+00               527s
   15027 PPushes remaining with PInf 0.0000000e+00               530s
   14301 PPushes remaining with PInf 0.0000000e+00               536s
   13566 PPushes remaining with PInf 0.0000000e+00               542s
   13202 PPushes remaining with PInf 0.0000000e+00               546s
   12468 PPushes remaining with PInf 0.0000000e+00               553s
   12063 PPushes remaining with PInf 0.0000000e+00               557s
   11641 PPushes remaining with PInf 0.0000000e+00               561s
   10814 PPushes remaining with PInf 0.0000000e+00               566s
   10085 PPushes remaining with PInf 0.0000000e+00               572s
    9277 PPushes remaining with PInf 0.0000000e+00               579s
    8781 PPushes remaining with PInf 0.0000000e+00               582s
    8013 PPushes remaining with PInf 0.0000000e+00               587s
    7283 PPushes remaining with PInf 0.0000000e+00               592s
    6552 PPushes remaining with PInf 0.0000000e+00               598s
    6188 PPushes remaining with PInf 0.0000000e+00               600s
    5462 PPushes remaining with PInf 0.0000000e+00               607s
    5099 PPushes remaining with PInf 0.0000000e+00               611s
    4739 PPushes remaining with PInf 0.0000000e+00               615s
    4380 PPushes remaining with PInf 0.0000000e+00               620s
    3927 PPushes remaining with PInf 0.0000000e+00               625s
    3168 PPushes remaining with PInf 0.0000000e+00               633s
    2802 PPushes remaining with PInf 0.0000000e+00               639s
    2441 PPushes remaining with PInf 0.0000000e+00               645s
    2081 PPushes remaining with PInf 0.0000000e+00               652s
    1720 PPushes remaining with PInf 0.0000000e+00               659s
    1358 PPushes remaining with PInf 0.0000000e+00               667s
     998 PPushes remaining with PInf 0.0000000e+00               676s
     639 PPushes remaining with PInf 0.0000000e+00               684s
     280 PPushes remaining with PInf 0.0000000e+00               693s
       0 PPushes remaining with PInf 0.0000000e+00               701s

  Push phase complete: Pinf 0.0000000e+00, Dinf 9.8008060e-10    701s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  264756    8.3000000e+02   0.000000e+00   0.000000e+00    702s
Concurrent spin time: 7.91s

Solved with barrier
  264756    8.3000000e+02   0.000000e+00   0.000000e+00    710s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

   24102 DPushes remaining with DInf 0.0000000e+00               711s

   39965 PPushes remaining with PInf 0.0000000e+00               711s
    8616 PPushes remaining with PInf 0.0000000e+00               716s
    6875 PPushes remaining with PInf 0.0000000e+00               721s
    5632 PPushes remaining with PInf 0.0000000e+00               726s
    4412 PPushes remaining with PInf 0.0000000e+00               732s
    3566 PPushes remaining with PInf 0.0000000e+00               736s
    2736 PPushes remaining with PInf 0.0000000e+00               741s
    1928 PPushes remaining with PInf 0.0000000e+00               746s
    1098 PPushes remaining with PInf 0.0000000e+00               751s
     637 PPushes remaining with PInf 0.0000000e+00               755s
     200 PPushes remaining with PInf 0.0000000e+00               760s
       0 PPushes remaining with PInf 0.0000000e+00               763s

  Push phase complete: Pinf 0.0000000e+00, Dinf 6.3228313e-10    763s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  304724    8.3000000e+02   0.000000e+00   0.000000e+00    764s
  304724    8.3000000e+02   0.000000e+00   0.000000e+00    764s

Root relaxation: objective 8.300000e+02, 304724 iterations, 689.58 seconds (256.16 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  830.00000    0 34988          -  830.00000      -     - 1743s
     0     0  830.00000    0 34988          -  830.00000      -     - 2621s
