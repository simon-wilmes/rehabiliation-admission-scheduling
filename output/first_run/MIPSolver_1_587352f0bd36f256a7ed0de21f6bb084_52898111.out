1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': False}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_5_15.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-01 18:42:49,529 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-01 18:42:49,529 - DEBUG - Args: {'use_lazy_constraints': False}[0m
[34m2025-01-01 18:42:49,529 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_5_15.txt[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 18:42:49,530 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 18:42:49,531 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,532 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,533 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,534 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,535 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,535 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,535 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,536 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,537 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,537 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,537 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,537 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,537 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 18:42:49,537 - DEBUG - Instance data:[0m
[34m2025-01-01 18:42:49,537 - DEBUG - Number of patients: 40[0m
[34m2025-01-01 18:42:49,537 - DEBUG - Number of beds: 40[0m
[34m2025-01-01 18:42:49,537 - DEBUG - Average number of treatments per patient: 23.325[0m
[34m2025-01-01 18:42:49,537 - DEBUG - Average number of treatment per stayed day: 2.2004716981132075[0m
[34m2025-01-01 18:42:49,537 - DEBUG - Number of treatments: 933[0m
[34m2025-01-01 18:42:49,537 - DEBUG - Number of resources: 10[0m
[34m2025-01-01 18:42:49,537 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-01 18:42:49,538 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 25.816666666666716[0m
[34m2025-01-01 18:42:49,538 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 48.36666666666666[0m
[34m2025-01-01 18:42:49,538 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 15.5[0m
[34m2025-01-01 18:42:49,538 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 6.75[0m
[32m2025-01-01 18:42:49,538 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-01 18:42:49,538 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-01 18:42:49,538 - DEBUG - Setting options: Solver[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- number_of_threads to 4 (default)[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- log_to_file to True (default)[0m
[34m2025-01-01 18:42:49,538 - DEBUG -  ---- no_rel_heur_time to 1 (default)[0m
[32m2025-01-01 18:42:49,573 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 4
Set parameter Cuts to value 0
Set parameter NoRelHeurTime to value 1
Set parameter LazyConstraints to value 1
[34m2025-01-01 18:42:53,133 - DEBUG - Variables created.[0m
[34m2025-01-01 18:42:57,853 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-01 18:42:58,496 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-01 18:42:59,006 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-01 18:42:59,009 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-01 18:42:59,010 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-01 18:42:59,268 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-01 18:43:01,048 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-01 18:43:02,826 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-01 18:43:02,959 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-01 18:43:02,992 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 18:43:03,025 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 18:43:03,025 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-01 18:43:04,861 - INFO - Time to create model: 15.288[0m
[32m2025-01-01 18:43:04,862 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 4 threads

Optimize a model with 706685 rows, 552362 columns and 3415655 nonzeros
Model fingerprint: 0x5e1a520f
Variable types: 2 continuous, 552360 integer (552360 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 4e+03]
Presolve removed 296747 rows and 189753 columns (presolve time = 5s) ...
Presolve removed 296747 rows and 191205 columns (presolve time = 10s) ...
Presolve removed 296747 rows and 191205 columns (presolve time = 15s) ...
Presolve removed 296747 rows and 193525 columns (presolve time = 21s) ...
Presolve removed 296747 rows and 193525 columns (presolve time = 25s) ...
Presolve removed 304529 rows and 193779 columns (presolve time = 30s) ...
Presolve removed 304529 rows and 193779 columns (presolve time = 35s) ...
Presolve removed 304427 rows and 193677 columns
Presolve time: 38.29s
Presolved: 402258 rows, 358685 columns, 1970989 nonzeros
Variable types: 0 continuous, 358685 integer (358582 binary)
Starting NoRel heuristic
Found phase-1 solution: relaxation 174
Found phase-1 solution: relaxation 172
Root relaxation presolved: 402059 rows, 358884 columns, 1944930 nonzeros

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Elapsed ordering time = 5s
Elapsed ordering time = 10s
Elapsed ordering time = 15s
Ordering time: 16.66s

Barrier statistics:
 Dense cols : 54
 AA' NZ     : 5.025e+06
 Factor NZ  : 4.531e+07 (roughly 600 MB of memory)
 Factor Ops : 1.442e+10 (roughly 1 second per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0  -5.80144440e+06 -5.50741469e+06  1.38e+05 1.49e+00  9.22e+02    69s
   1  -4.76353241e+06 -5.65848442e+06  1.13e+05 2.24e+01  7.56e+02    72s
   2  -3.26201004e+06 -5.99454458e+06  7.74e+04 9.23e+00  5.16e+02    75s
   3  -1.89488164e+06 -6.12625984e+06  4.50e+04 1.70e+00  3.02e+02    79s
   4  -3.48348877e+05 -5.75915914e+06  8.34e+03 3.33e-01  6.14e+01    83s
   5  -2.43164157e+05 -4.86417760e+06  5.85e+03 1.88e-01  4.26e+01    88s
   6  -1.15116487e+05 -3.61955127e+06  2.81e+03 4.30e-02  2.10e+01    92s
   7  -5.77419163e+04 -2.36067816e+06  1.43e+03 9.09e-13  1.07e+01    97s
   8  -3.49801378e+04 -1.56371624e+06  8.78e+02 2.61e-13  6.48e+00   100s
   9  -2.30431040e+04 -1.10552660e+06  5.86e+02 1.84e-13  4.26e+00   103s
  10  -1.60413457e+04 -7.51497524e+05  4.12e+02 2.27e-13  2.85e+00   106s
  11  -1.16574180e+04 -4.77761251e+05  3.04e+02 2.27e-13  1.90e+00   109s
  12  -6.77554421e+03 -3.76172522e+05  1.84e+02 2.02e-13  1.23e+00   113s
  13  -3.45232812e+03 -2.00154960e+05  1.04e+02 2.05e-13  6.23e-01   117s
  14  -2.96425857e+03 -1.78021738e+05  9.17e+01 1.73e-13  5.41e-01   120s
  15  -1.29146679e+03 -1.39360377e+05  5.13e+01 1.58e-13  3.39e-01   124s
  16   4.44148440e+02 -8.28336889e+04  8.51e+00 1.70e-13  1.30e-01   128s
  17   7.40231057e+02 -3.24400222e+04  7.00e-01 1.69e-13  4.40e-02   132s
  18   7.25577326e+02 -1.68154965e+04  3.27e-01 9.82e-14  2.30e-02   136s
  19   7.21462394e+02 -1.31077117e+04  2.68e-01 7.24e-14  1.81e-02   139s
  20   6.98214945e+02 -6.67400902e+03  1.78e-01 4.84e-14  9.63e-03   143s
  21   7.05050185e+02 -2.89425082e+03  1.53e-01 3.98e-14  4.70e-03   146s
  22   6.95995778e+02 -4.06201314e+02  2.67e-02 3.77e-05  1.43e-03   151s
  23   6.92562135e+02  4.83062706e+02  1.32e-02 2.05e-05  2.73e-04   154s
  24   6.89680626e+02  5.75067470e+02  2.99e-03 1.62e-05  1.49e-04   158s
  25   6.89234678e+02  6.36406065e+02  1.88e-03 3.89e-06  6.87e-05   161s
  26   6.88939129e+02  6.54670917e+02  1.33e-03 1.58e-06  4.45e-05   164s
  27   6.88705631e+02  6.68911069e+02  9.92e-04 1.15e-06  2.57e-05   168s
  28   6.88242128e+02  6.83176055e+02  1.80e-04 1.22e-08  6.58e-06   172s
  29   6.88135075e+02  6.85503508e+02  9.91e-05 1.13e-06  3.42e-06   176s
  30   6.88068607e+02  6.87204873e+02  5.08e-05 4.78e-07  1.12e-06   181s
  31   6.88033052e+02  6.87723313e+02  2.56e-05 1.54e-06  4.03e-07   184s
  32   6.88013458e+02  6.87924139e+02  1.11e-05 1.65e-07  1.17e-07   188s
  33   6.88005753e+02  6.87986939e+02  4.77e-06 1.04e-07  2.47e-08   192s
  34   6.88000069e+02  6.87999861e+02  5.15e-08 8.75e-08  2.72e-10   196s
  35   6.88000000e+02  6.88000000e+02  3.02e-11 1.73e-09  2.72e-13   200s

Barrier solved model in 35 iterations and 199.70 seconds (57.47 work units)
Optimal objective 6.88000000e+02


Root crossover log...

    9875 DPushes remaining with DInf 0.0000000e+00               201s
       0 DPushes remaining with DInf 0.0000000e+00               201s

  190959 PPushes remaining with PInf 0.0000000e+00               202s
   75491 PPushes remaining with PInf 0.0000000e+00               205s
   50433 PPushes remaining with PInf 0.0000000e+00               210s
   33922 PPushes remaining with PInf 0.0000000e+00               215s
   26237 PPushes remaining with PInf 0.0000000e+00               220s
   21072 PPushes remaining with PInf 0.0000000e+00               225s
   19044 PPushes remaining with PInf 0.0000000e+00               230s
   16944 PPushes remaining with PInf 0.0000000e+00               236s
   15997 PPushes remaining with PInf 0.0000000e+00               240s
   14954 PPushes remaining with PInf 0.0000000e+00               245s
   13965 PPushes remaining with PInf 0.0000000e+00               250s
   12937 PPushes remaining with PInf 0.0000000e+00               256s
   11931 PPushes remaining with PInf 0.0000000e+00               261s
   10949 PPushes remaining with PInf 0.0000000e+00               267s
   10259 PPushes remaining with PInf 0.0000000e+00               271s
    9295 PPushes remaining with PInf 0.0000000e+00               276s
    8678 PPushes remaining with PInf 0.0000000e+00               281s
    8075 PPushes remaining with PInf 0.0000000e+00               285s
    7475 PPushes remaining with PInf 0.0000000e+00               290s
    6867 PPushes remaining with PInf 0.0000000e+00               296s
    6235 PPushes remaining with PInf 0.0000000e+00               301s
    5624 PPushes remaining with PInf 0.0000000e+00               308s
    5327 PPushes remaining with PInf 0.0000000e+00               311s
    4733 PPushes remaining with PInf 0.0000000e+00               318s
    4435 PPushes remaining with PInf 0.0000000e+00               322s
    4139 PPushes remaining with PInf 0.0000000e+00               326s
    3532 PPushes remaining with PInf 0.0000000e+00               334s
    3223 PPushes remaining with PInf 0.0000000e+00               338s
    2925 PPushes remaining with PInf 0.0000000e+00               342s
    2624 PPushes remaining with PInf 0.0000000e+00               347s
    2299 PPushes remaining with PInf 0.0000000e+00               352s
    1968 PPushes remaining with PInf 0.0000000e+00               357s
    1670 PPushes remaining with PInf 0.0000000e+00               363s
    1358 PPushes remaining with PInf 0.0000000e+00               368s
    1061 PPushes remaining with PInf 0.0000000e+00               374s
     762 PPushes remaining with PInf 0.0000000e+00               380s
     464 PPushes remaining with PInf 0.0000000e+00               386s
     165 PPushes remaining with PInf 0.0000000e+00               392s
       0 PPushes remaining with PInf 0.0000000e+00               396s

  Push phase complete: Pinf 0.0000000e+00, Dinf 7.8865626e-10    396s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  200145    6.8800000e+02   0.000000e+00   0.000000e+00    397s
Concurrent spin time: 0.09s

Solved with barrier
  200145    6.8800000e+02   0.000000e+00   0.000000e+00    398s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    7998 DPushes remaining with DInf 0.0000000e+00               398s
       0 DPushes remaining with DInf 0.0000000e+00               399s

   31429 PPushes remaining with PInf 0.0000000e+00               399s
    4368 PPushes remaining with PInf 0.0000000e+00               400s
    1909 PPushes remaining with PInf 0.0000000e+00               406s
     858 PPushes remaining with PInf 0.0000000e+00               411s
     130 PPushes remaining with PInf 0.0000000e+00               418s
       0 PPushes remaining with PInf 0.0000000e+00               419s

  Push phase complete: Pinf 0.0000000e+00, Dinf 6.3377803e-10    419s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  231779    6.8800000e+02   0.000000e+00   0.000000e+00    420s
  231779    6.8800000e+02   0.000000e+00   0.000000e+00    421s

Root relaxation: objective 6.880000e+02, 231779 iterations, 377.28 seconds (93.74 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  688.00000    0 26234          -  688.00000      -     -  880s
     0     0  688.00000    0 26234          -  688.00000      -     - 1334s
     0     2  688.00000    0 26234          -  688.00000      -     - 2684s
