1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': False}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_7_5.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-02 11:00:33,326 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-02 11:00:33,326 - DEBUG - Args: {'use_lazy_constraints': False}[0m
[34m2025-01-02 11:00:33,326 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_7_5.txt[0m
[34m2025-01-02 11:00:33,327 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,327 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,327 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,327 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,327 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,327 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,328 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD RESOURCES[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,329 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,330 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,331 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,332 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,332 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,332 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,332 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,332 - DEBUG - ADD PATIENTS[0m
[34m2025-01-02 11:00:33,332 - DEBUG - Instance data:[0m
[34m2025-01-02 11:00:33,332 - DEBUG - Number of patients: 19[0m
[34m2025-01-02 11:00:33,332 - DEBUG - Number of beds: 40[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Average number of treatments per patient: 23.526315789473685[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Average number of treatment per stayed day: 2.3526315789473684[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Number of treatments: 447[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Number of resources: 10[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Number of resource groups: 5[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 22.09999999999998[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 9.75[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 7.975000000000001[0m
[34m2025-01-02 11:00:33,333 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 5.625[0m
[32m2025-01-02 11:00:33,333 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-02 11:00:33,334 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-02 11:00:33,334 - DEBUG - Setting options: Solver[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- number_of_threads to 4 (default)[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- log_to_file to True (default)[0m
[34m2025-01-02 11:00:33,334 - DEBUG -  ---- no_rel_heur_time to 1 (default)[0m
[32m2025-01-02 11:00:33,426 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 4
Set parameter Cuts to value 0
Set parameter NoRelHeurTime to value 1
Set parameter LazyConstraints to value 1
[34m2025-01-02 11:00:39,798 - DEBUG - Variables created.[0m
[34m2025-01-02 11:00:46,765 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-02 11:00:47,887 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-02 11:00:49,831 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-02 11:00:49,832 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-02 11:00:49,833 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-02 11:00:51,864 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-02 11:00:54,606 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-02 11:00:58,236 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-02 11:00:58,475 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-02 11:00:58,523 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-02 11:00:58,572 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-02 11:00:58,573 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-02 11:00:59,907 - INFO - Time to create model: 26.481[0m
[32m2025-01-02 11:00:59,907 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 4 threads

Optimize a model with 1149485 rows, 836426 columns and 6801461 nonzeros
Model fingerprint: 0x223d027d
Variable types: 2 continuous, 836424 integer (836424 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 2e+03]
Presolve removed 536237 rows and 346066 columns (presolve time = 5s) ...
Presolve removed 536600 rows and 352483 columns (presolve time = 10s) ...
Presolve removed 536600 rows and 352483 columns (presolve time = 15s) ...
Presolve removed 536600 rows and 352483 columns (presolve time = 20s) ...
Presolve removed 536600 rows and 352483 columns (presolve time = 25s) ...
Presolve removed 536600 rows and 352483 columns (presolve time = 30s) ...
Presolve removed 536600 rows and 352483 columns (presolve time = 35s) ...
Presolve removed 536600 rows and 359735 columns (presolve time = 41s) ...
Presolve removed 536600 rows and 359735 columns (presolve time = 45s) ...
Presolve removed 536600 rows and 359735 columns (presolve time = 50s) ...
Presolve removed 553532 rows and 360056 columns (presolve time = 55s) ...
Presolve removed 553532 rows and 360056 columns (presolve time = 60s) ...
Presolve removed 553532 rows and 360056 columns (presolve time = 65s) ...
Presolve removed 553441 rows and 359965 columns
Presolve time: 65.62s
Presolved: 596044 rows, 476461 columns, 3440571 nonzeros
Variable types: 0 continuous, 476461 integer (476369 binary)
Starting NoRel heuristic
Found phase-1 solution: relaxation 34
Found phase-1 solution: relaxation 32
Root relaxation presolved: 595945 rows, 476560 columns, 3408747 nonzeros

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Elapsed ordering time = 5s
Elapsed ordering time = 11s
Elapsed ordering time = 15s
Elapsed ordering time = 20s
Elapsed ordering time = 25s
Elapsed ordering time = 30s
Ordering time: 31.07s

Barrier statistics:
 Dense cols : 84
 AA' NZ     : 8.798e+06
 Factor NZ  : 6.079e+07 (roughly 800 MB of memory)
 Factor Ops : 2.022e+10 (less than 1 second per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0  -1.03120233e+07 -1.42769174e+06  1.92e+05 8.86e-01  2.29e+02   122s
   1  -7.63767701e+06 -1.48175555e+06  1.43e+05 3.81e+00  1.72e+02   127s
   2  -6.25831844e+06 -1.54779394e+06  1.17e+05 3.58e+00  1.38e+02   133s
   3  -4.81519431e+06 -1.71061264e+06  9.00e+04 5.12e-01  1.05e+02   139s
   4  -2.07666561e+06 -1.65908050e+06  3.88e+04 4.48e-02  4.66e+01   146s
   5  -3.76070277e+05 -1.40421694e+06  7.04e+03 2.41e-02  9.30e+00   153s
   6  -1.81840619e+05 -8.72672437e+05  3.41e+03 1.09e-02  4.39e+00   160s
   7  -8.97956999e+04 -5.47722206e+05  1.69e+03 3.57e-03  2.16e+00   167s
   8  -7.03683595e+04 -3.93276235e+05  1.33e+03 2.00e-03  1.62e+00   172s
   9  -4.56111866e+04 -3.02508134e+05  8.68e+02 1.53e-03  1.08e+00   177s
  10  -1.84769414e+04 -2.31657133e+05  3.59e+02 9.78e-04  5.42e-01   182s
  11  -1.37522549e+04 -1.38448914e+05  2.68e+02 8.55e-04  3.59e-01   188s
  12  -7.69093785e+03 -9.18245896e+04  1.50e+02 5.38e-04  2.08e-01   195s
  13  -5.26709659e+03 -4.59999678e+04  1.03e+02 1.74e-04  1.19e-01   202s
  14  -3.44360837e+03 -3.29774361e+04  6.85e+01 2.20e-04  7.85e-02   208s
  15  -1.49943178e+03 -2.71725100e+04  3.14e+01 1.91e-04  4.67e-02   214s
  16  -4.78148132e+02 -1.83989342e+04  1.22e+01 1.26e-04  2.47e-02   219s
  17   2.90636452e+01 -8.49660871e+03  2.41e+00 5.63e-05  9.22e-03   224s
  18   1.26376659e+02 -1.72701151e+03  4.53e-01 2.51e-05  1.86e-03   231s
  19   1.39417727e+02 -1.70443286e+02  1.01e-01 8.84e-05  3.07e-04   238s
  20   1.37139649e+02  8.79582394e+01  2.60e-02 9.04e-05  4.90e-05   244s
  21   1.36350450e+02  1.22097220e+02  4.37e-03 3.16e-05  1.40e-05   250s
  22   1.36226149e+02  1.28703974e+02  2.00e-03 1.64e-05  7.38e-06   255s
  23   1.36108922e+02  1.33578844e+02  5.11e-04 5.17e-06  2.47e-06   261s
  24   1.36046740e+02  1.35406392e+02  1.39e-04 1.74e-06  6.27e-07   267s
  25   1.36001916e+02  1.35952234e+02  1.66e-06 7.61e-07  4.81e-08   274s
  26   1.36000007e+02  1.35999948e+02  2.76e-09 3.24e-08  5.71e-11   280s
  27   1.36000000e+02  1.36000000e+02  3.98e-12 1.05e-10  5.71e-14   285s

Barrier solved model in 27 iterations and 285.34 seconds (100.10 work units)
Optimal objective 1.36000000e+02


Root crossover log...

   24041 DPushes remaining with DInf 0.0000000e+00               287s
       0 DPushes remaining with DInf 0.0000000e+00               288s

  205913 PPushes remaining with PInf 0.0000000e+00               288s
   66254 PPushes remaining with PInf 3.9551284e-06               290s
   40734 PPushes remaining with PInf 2.8537242e-06               296s
   32635 PPushes remaining with PInf 0.0000000e+00               300s
   24859 PPushes remaining with PInf 0.0000000e+00               306s
   21541 PPushes remaining with PInf 0.0000000e+00               311s
   19618 PPushes remaining with PInf 0.0000000e+00               316s
   18298 PPushes remaining with PInf 0.0000000e+00               321s
   16974 PPushes remaining with PInf 0.0000000e+00               325s
   15780 PPushes remaining with PInf 0.0000000e+00               332s
   15076 PPushes remaining with PInf 0.0000000e+00               335s
   13963 PPushes remaining with PInf 0.0000000e+00               342s
   13177 PPushes remaining with PInf 0.0000000e+00               346s
   12421 PPushes remaining with PInf 0.0000000e+00               352s
   11649 PPushes remaining with PInf 0.0000000e+00               357s
   10889 PPushes remaining with PInf 0.0000000e+00               363s
   10521 PPushes remaining with PInf 0.0000000e+00               366s
    9773 PPushes remaining with PInf 0.0000000e+00               372s
    9009 PPushes remaining with PInf 0.0000000e+00               379s
    8628 PPushes remaining with PInf 0.0000000e+00               383s
    8227 PPushes remaining with PInf 0.0000000e+00               387s
    7835 PPushes remaining with PInf 0.0000000e+00               391s
    7067 PPushes remaining with PInf 0.0000000e+00               398s
    6695 PPushes remaining with PInf 0.0000000e+00               402s
    6338 PPushes remaining with PInf 0.0000000e+00               405s
    5574 PPushes remaining with PInf 0.0000000e+00               414s
    5193 PPushes remaining with PInf 0.0000000e+00               418s
    4816 PPushes remaining with PInf 0.0000000e+00               422s
    4445 PPushes remaining with PInf 0.0000000e+00               427s
    4084 PPushes remaining with PInf 0.0000000e+00               431s
    3721 PPushes remaining with PInf 0.0000000e+00               436s
    2992 PPushes remaining with PInf 0.0000000e+00               445s
    2631 PPushes remaining with PInf 0.0000000e+00               450s
    2275 PPushes remaining with PInf 0.0000000e+00               455s
    1880 PPushes remaining with PInf 0.0000000e+00               460s
    1498 PPushes remaining with PInf 0.0000000e+00               465s
    1092 PPushes remaining with PInf 0.0000000e+00               470s
     666 PPushes remaining with PInf 0.0000000e+00               476s
       0 PPushes remaining with PInf 0.0000000e+00               483s

  Push phase complete: Pinf 0.0000000e+00, Dinf 1.3714318e-09    483s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  225456    1.3600000e+02   0.000000e+00   0.000000e+00    484s
Concurrent spin time: 0.17s

Solved with barrier
  225456    1.3600000e+02   0.000000e+00   0.000000e+00    486s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    7683 DPushes remaining with DInf 0.0000000e+00               486s

   10138 PPushes remaining with PInf 0.0000000e+00               486s
       0 PPushes remaining with PInf 0.0000000e+00               489s

  Push phase complete: Pinf 0.0000000e+00, Dinf 2.0279874e-10    489s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  235597    1.3600000e+02   0.000000e+00   0.000000e+00    490s
  235597    1.3600000e+02   0.000000e+00   0.000000e+00    490s

Root relaxation: objective 1.360000e+02, 235597 iterations, 413.17 seconds (98.87 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  136.00000    0 7079          -  136.00000      -     -  763s
     0     0  136.00000    0 7079          -  136.00000      -     -  859s
     0     0  136.00000    0 7079          -  136.00000      -     -  944s
     0     0  136.00000    0 7079          -  136.00000      -     - 1039s
     0     0  136.00000    0 7079          -  136.00000      -     - 1140s
     0     0  136.00000    0 7079          -  136.00000      -     - 1244s
     0     0  136.00000    0 4253          -  136.00000      -     - 1738s
     0     0  136.00000    0 4253          -  136.00000      -     - 1799s
     0     0  136.00000    0 4253          -  136.00000      -     - 1858s
     0     0  136.00000    0 4253          -  136.00000      -     - 1919s
     0     0  136.00000    0 4253          -  136.00000      -     - 1979s
     0     0  136.00000    0 4253          -  136.00000      -     - 2055s
