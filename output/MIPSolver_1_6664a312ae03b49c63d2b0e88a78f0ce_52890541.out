1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': False}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_1_more_resources_30.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-01 15:58:28,849 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-01 15:58:28,849 - DEBUG - Args: {'use_lazy_constraints': False}[0m
[34m2025-01-01 15:58:28,849 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_1_more_resources_30.txt[0m
[34m2025-01-01 15:58:28,849 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,849 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,849 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,849 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,849 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,849 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,849 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,849 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,850 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 15:58:28,851 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,852 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,853 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,854 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,855 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,856 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,856 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,856 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,856 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,856 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,856 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,856 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 15:58:28,856 - DEBUG - Instance data:[0m
[34m2025-01-01 15:58:28,856 - DEBUG - Number of patients: 40[0m
[34m2025-01-01 15:58:28,856 - DEBUG - Number of beds: 40[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Average number of treatments per patient: 29.525[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Average number of treatment per stayed day: 2.135623869801085[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Number of treatments: 1181[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Number of resources: 12[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 38.3375[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 74.50000000000004[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 26.0[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 18.9375[0m
[32m2025-01-01 15:58:28,857 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-01 15:58:28,857 - DEBUG - Setting options: Solver[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- number_of_threads to 4 (default)[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- log_to_file to True (default)[0m
[34m2025-01-01 15:58:28,857 - DEBUG -  ---- no_rel_heur_time to 1 (default)[0m
[32m2025-01-01 15:58:28,874 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 4
Set parameter Cuts to value 0
Set parameter NoRelHeurTime to value 1
Set parameter LazyConstraints to value 1
[34m2025-01-01 15:58:31,749 - DEBUG - Variables created.[0m
[34m2025-01-01 15:58:36,263 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-01 15:58:36,807 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-01 15:58:37,063 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-01 15:58:37,066 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-01 15:58:37,067 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-01 15:58:37,165 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-01 15:58:38,389 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-01 15:58:39,821 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-01 15:58:39,939 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-01 15:58:39,976 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 15:58:40,008 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 15:58:40,008 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-01 15:58:41,850 - INFO - Time to create model: 12.976[0m
[32m2025-01-01 15:58:41,850 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 4 threads

Optimize a model with 656644 rows, 529627 columns and 3196963 nonzeros
Model fingerprint: 0x519b4440
Variable types: 2 continuous, 529625 integer (529625 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 5e+03]
Presolve removed 257460 rows and 157028 columns (presolve time = 5s) ...
Presolve removed 257460 rows and 157028 columns (presolve time = 11s) ...
Presolve removed 257314 rows and 156882 columns
Presolve time: 11.69s
Presolved: 399330 rows, 372745 columns, 1957060 nonzeros
Variable types: 0 continuous, 372745 integer (372598 binary)
Starting NoRel heuristic
Found phase-1 solution: relaxation 50
Root relaxation presolved: 399104 rows, 372971 columns, 1936820 nonzeros

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Elapsed ordering time = 5s
Ordering time: 7.93s

Barrier statistics:
 Dense cols : 16
 AA' NZ     : 2.076e+06
 Factor NZ  : 2.060e+07 (roughly 250 MB of memory)
 Factor Ops : 8.021e+09 (less than 1 second per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0  -4.85237644e+06 -1.01267317e+05  1.52e+05 5.71e-01  9.24e+01    31s
   1  -4.08221510e+06 -1.15285661e+05  1.28e+05 1.17e+00  6.93e+01    32s
   2  -1.86397197e+06 -1.27386777e+05  5.85e+04 3.78e-01  3.27e+01    34s
   3  -1.00536703e+06 -1.32492509e+05  3.16e+04 4.55e-02  1.82e+01    36s
   4  -1.97249888e+05 -1.02497455e+05  6.23e+03 3.81e-11  3.71e+00    38s
   5  -7.72487470e+04 -6.88114470e+04  2.46e+03 1.99e-11  1.49e+00    40s
   6  -4.41755561e+04 -4.93313498e+04  1.41e+03 8.75e-12  8.59e-01    43s
   7  -2.78612984e+04 -3.79332557e+04  8.99e+02 3.28e-12  5.51e-01    45s
   8  -1.78329205e+04 -2.66521845e+04  5.84e+02 1.08e-12  3.49e-01    48s
   9  -6.97203887e+03 -1.79161736e+04  2.44e+02 7.77e-12  1.65e-01    50s
  10  -2.35631033e+03 -1.16119461e+04  9.98e+01 4.63e-12  8.12e-02    52s
  11  -4.01127334e+02 -6.70974373e+03  3.87e+01 9.66e-13  3.94e-02    54s
  12   4.47745336e+02 -3.29434637e+03  1.21e+01 5.56e-13  1.82e-02    55s
  13   7.65387902e+02 -1.06900954e+03  2.11e+00 2.68e-13  7.60e-03    57s
  14   8.00949990e+02 -1.60911457e+01  9.45e-01 1.20e-13  3.34e-03    58s
  15   8.10375125e+02  5.08727748e+02  6.36e-01 3.02e-14  1.26e-03    60s
  16   8.30032862e+02  8.00562922e+02  3.72e-12 1.55e-14  1.15e-04    62s
  17   8.30000041e+02  8.29970557e+02  1.53e-12 7.77e-14  1.15e-07    64s
  18   8.30000000e+02  8.29999971e+02  1.71e-13 2.89e-14  1.15e-10    66s

Barrier solved model in 18 iterations and 65.82 seconds (22.27 work units)
Optimal objective 8.30000000e+02


Root crossover log...

    1576 DPushes remaining with DInf 0.0000000e+00                67s
       0 DPushes remaining with DInf 0.0000000e+00                67s

   55246 PPushes remaining with PInf 0.0000000e+00                67s
   12448 PPushes remaining with PInf 0.0000000e+00                70s
    5769 PPushes remaining with PInf 0.0000000e+00                75s
    3778 PPushes remaining with PInf 0.0000000e+00                80s
    2385 PPushes remaining with PInf 0.0000000e+00                85s
     990 PPushes remaining with PInf 0.0000000e+00                91s
     227 PPushes remaining with PInf 0.0000000e+00                96s
Concurrent spin time: 1.43s

Solved with dual simplex

Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
   23488    8.3000000e+02   0.000000e+00   0.000000e+00     98s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

   10574 DPushes remaining with DInf 0.0000000e+00                98s

   15205 PPushes remaining with PInf 0.0000000e+00                98s
     194 PPushes remaining with PInf 0.0000000e+00               100s
       0 PPushes remaining with PInf 0.0000000e+00               101s

  Push phase complete: Pinf 0.0000000e+00, Dinf 1.9009631e-10    101s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
   38696    8.3000000e+02   0.000000e+00   0.000000e+00    102s
   38696    8.3000000e+02   0.000000e+00   0.000000e+00    102s

Root relaxation: objective 8.300000e+02, 38696 iterations, 84.87 seconds (25.07 work units)
Total elapsed time = 203.61s

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  830.00000    0 1879          -  830.00000      -     -  303s
     0     0  830.00000    0 1879          -  830.00000      -     -  308s
     0     0  830.00000    0  118          -  830.00000      -     -  469s
     0     0  830.00000    0  118          -  830.00000      -     -  470s
     0     2  830.00000    0  179          -  830.00000      -     -  617s
     1     4  830.00000    1  312          -  830.00000      - 114029  620s
     3     8  830.00000    2  330          -  830.00000      - 39833  626s
    15    20  832.00000    5  255          -  830.00000      -  8494  632s
    23    28  832.00000    6  285          -  830.00000      -  5671  636s
    31    38  832.00000    8  292          -  830.00000      -  4267  640s
    41    47  832.00000    9  310          -  830.00000      -  3439  646s
    52    59  832.00000   10  250          -  830.00000      -  2803  650s
    64    70  832.00000   12  347          -  830.00000      -  2322  656s
    77    91  832.00000   14  299          -  830.00000      -  1948  662s
   100   113  832.00000   22  189          -  830.00000      -  1519  666s
   123   132  832.00000   28  153          -  830.00000      -  1255  672s
   142   157  832.00000   36  106          -  830.00000      -  1117  677s
   156   172  832.00000   37   91          -  830.00000      -  1026  681s
   171   182  832.00000   39   90          -  830.00000      -   947  685s
   195   205  832.00000   42  191          -  830.00000      -   868  692s
   204   223  832.00000   43  180          -  830.00000      -   834  695s
   239   256  832.00000   49  139          -  830.00000      -   731  702s
   255   268  832.00000   52  232          -  830.00000      -   702  705s
   288   300  832.00000   58  188          -  830.00000      -   645  714s
   299   317  832.00000   61  334          -  830.00000      -   660  720s
   318   323  832.00000   62  293          -  830.00000      -   644  727s
   323   328  832.00000   62  243          -  830.00000      -   703  732s
   328   339  832.00000   63  284          -  830.00000      -   760  737s
   339   350  832.00000   66  193          -  830.00000      -   763  743s
   350   371  832.00000   67  140          -  830.00000      -   771  749s
   373   384  832.00000   73  402          -  830.00000      -   747  754s
   386   400  832.00000   74   67          -  830.00000      -   727  761s
   402   411  832.00000   76   93          -  830.00000      -   729  767s
   413   434  832.00000   78  352          -  830.00000      -   721  773s
   438   464  832.00000   83  117          -  830.00000      -   686  781s
   474   476  832.00000   84  159          -  830.00000      -   655  787s
   483   488  832.00000   84  170          -  830.00000      -   677  793s
   498   520  832.00000   87  143          -  830.00000      -   682  801s
   530   551  832.00000   96   47          -  830.00000      -   648  808s
   567   556  832.00000  103  507          -  830.00000      -   628  822s
   577   577  832.00000  104  379          -  830.00000      -   678  829s
   598   599  832.00000  105  290          -  830.00000      -   664  836s
   620   632  832.00000  110  330          -  830.00000      -   657  845s
   653   653  832.00000  119  329          -  830.00000      -   642  853s
   674   683  832.00000  121  285          -  830.00000      -   631  862s
   704   710  832.00000  129  223          -  830.00000      -   623  870s
   731   746  832.00000  134  249          -  830.00000      -   614  879s
   767   786  832.00000  148   89          -  830.00000      -   593  888s
   807   837  832.00000  156   86          -  830.00000      -   574  897s
   858   891  832.00000  166   46          -  830.00000      -   545  907s
   912   935  832.00000  174   55          -  830.00000      -   518  917s
   958   974  832.00000  181  528          -  830.00000      -   509  928s
   996  1012  832.00000  182  617          -  830.00000      -   504  939s
  1043  1061  832.00000  187  648          -  830.00000      -   495  952s
  1090  1111  832.00000  193  568          -  830.00000      -   481  963s
  1150  1149  832.00000  209  309          -  830.00000      -   474  975s
  1183  1184  832.00000  213  374          -  830.00000      -   485  986s
  1219  1216  832.00000  224  324          -  830.00000      -   492  996s
  1253  1265 infeasible  230               -  830.00000      -   499 1009s
