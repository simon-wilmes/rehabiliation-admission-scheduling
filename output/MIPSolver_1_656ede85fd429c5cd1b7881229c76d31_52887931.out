1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': False}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_4_15.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-01 14:45:37,790 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-01 14:45:37,790 - DEBUG - Args: {'use_lazy_constraints': False}[0m
[34m2025-01-01 14:45:37,790 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_4_15.txt[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,791 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:37,792 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,793 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,794 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,795 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,795 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,795 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,795 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,795 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,795 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,795 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,796 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,796 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,796 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,796 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:37,796 - DEBUG - Instance data:[0m
[34m2025-01-01 14:45:37,796 - DEBUG - Number of patients: 30[0m
[34m2025-01-01 14:45:37,796 - DEBUG - Number of beds: 40[0m
[34m2025-01-01 14:45:37,796 - DEBUG - Average number of treatments per patient: 26.5[0m
[34m2025-01-01 14:45:37,796 - DEBUG - Average number of treatment per stayed day: 2.2910662824207493[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Number of treatments: 795[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Number of resources: 10[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 22.441666666666695[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 41.99166666666666[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 15.5[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 6.75[0m
[32m2025-01-01 14:45:37,797 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-01 14:45:37,797 - DEBUG - Setting options: Solver[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- number_of_threads to 4 (default)[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- log_to_file to True (default)[0m
[34m2025-01-01 14:45:37,797 - DEBUG -  ---- no_rel_heur_time to 1 (default)[0m
[32m2025-01-01 14:45:37,826 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 4
Set parameter Cuts to value 0
Set parameter NoRelHeurTime to value 1
Set parameter LazyConstraints to value 1
[34m2025-01-01 14:45:40,487 - DEBUG - Variables created.[0m
[34m2025-01-01 14:45:44,121 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-01 14:45:44,571 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-01 14:45:44,924 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-01 14:45:44,925 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-01 14:45:44,926 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-01 14:45:45,132 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-01 14:45:46,151 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-01 14:45:47,438 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-01 14:45:47,535 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-01 14:45:47,560 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 14:45:47,584 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 14:45:47,584 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-01 14:45:49,168 - INFO - Time to create model: 11.343[0m
[32m2025-01-01 14:45:49,169 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 4 threads

Optimize a model with 633776 rows, 492899 columns and 3055966 nonzeros
Model fingerprint: 0x47236cd8
Variable types: 2 continuous, 492897 integer (492897 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 3e+03]
Presolve removed 267257 rows and 175595 columns (presolve time = 5s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 10s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 15s) ...
Presolve removed 267257 rows and 177919 columns (presolve time = 20s) ...
Presolve removed 275039 rows and 178173 columns (presolve time = 25s) ...
Presolve removed 274953 rows and 178087 columns
Presolve time: 29.58s
Presolved: 358823 rows, 314812 columns, 1745713 nonzeros
Variable types: 0 continuous, 314812 integer (314725 binary)
Starting NoRel heuristic
Found phase-1 solution: relaxation 115
Found phase-1 solution: relaxation 113
Root relaxation presolved: 358669 rows, 314966 columns, 1722939 nonzeros

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Elapsed ordering time = 5s
Elapsed ordering time = 10s
Ordering time: 11.70s

Barrier statistics:
 Dense cols : 47
 AA' NZ     : 4.425e+06
 Factor NZ  : 3.674e+07 (roughly 500 MB of memory)
 Factor Ops : 9.721e+09 (less than 1 second per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0  -6.22968276e+06 -4.58263621e+06  1.48e+05 1.49e+00  1.01e+03    50s
   1  -4.93672997e+06 -4.81993439e+06  1.17e+05 1.58e+01  8.08e+02    52s
   2  -4.02660534e+06 -5.53118899e+06  9.54e+04 3.96e+00  6.52e+02    55s
   3  -1.53702718e+06 -5.47534269e+06  3.65e+04 1.91e-01  2.53e+02    58s
   4  -2.41113515e+05 -4.73938983e+06  5.78e+03 2.51e-02  4.43e+01    61s
   5  -1.28214121e+05 -3.54342329e+06  3.10e+03 5.07e-03  2.37e+01    64s
   6  -5.10394171e+04 -2.64404736e+06  1.27e+03 1.88e-13  1.09e+01    68s
   7  -1.98645427e+04 -1.81841787e+06  5.14e+02 1.95e-13  5.27e+00    71s
   8  -1.43762530e+04 -1.53097692e+06  3.80e+02 1.58e-13  4.08e+00    73s
   9  -1.23453342e+04 -1.32640173e+06  3.30e+02 1.90e-13  3.49e+00    76s
  10  -1.07357677e+04 -1.12733272e+06  2.89e+02 1.76e-13  2.96e+00    78s
  11  -8.55719815e+03 -9.39872823e+05  2.32e+02 1.31e-13  2.39e+00    81s
  12  -5.48518947e+03 -4.73980062e+05  1.53e+02 1.37e-13  1.28e+00    83s
  13  -3.40713101e+03 -3.32449512e+05  1.01e+02 2.09e-13  8.42e-01    87s
  14  -9.42143359e+02 -1.72517148e+05  4.06e+01 1.64e-13  3.74e-01    90s
  15   2.81373301e+02 -9.53400056e+04  1.07e+01 1.80e-13  1.62e-01    93s
  16   6.07988456e+02 -5.52238492e+04  2.67e+00 9.48e-14  8.31e-02    96s
  17   6.95207639e+02 -1.50592506e+04  5.05e-01 1.12e-13  2.24e-02    98s
  18   6.98666473e+02 -3.72234911e+03  2.72e-01 8.60e-06  6.25e-03   101s
  19   6.96188150e+02 -8.31640461e+02  2.04e-01 1.82e-04  2.16e-03   104s
  20   6.89689667e+02  3.35949725e+02  3.95e-02 3.25e-05  4.97e-04   107s
  21   6.85931643e+02  6.36770353e+02  5.91e-03 7.35e-05  6.90e-05   111s
  22   6.84846778e+02  6.46109821e+02  1.90e-03 5.62e-05  5.42e-05   114s
  23   6.84521741e+02  6.60199826e+02  9.13e-04 3.35e-05  3.40e-05   117s
  24   6.84423674e+02  6.66645530e+02  7.12e-04 2.48e-05  2.49e-05   119s
  25   6.84284647e+02  6.71989317e+02  4.35e-04 1.66e-05  1.72e-05   122s
  26   6.84211423e+02  6.75027344e+02  2.36e-04 1.22e-05  1.28e-05   126s
  27   6.84166945e+02  6.80828793e+02  1.66e-04 4.09e-06  4.67e-06   130s
  28   6.84069898e+02  6.82700046e+02  6.15e-05 1.94e-06  1.92e-06   133s
  29   6.84017598e+02  6.83681171e+02  2.29e-05 3.37e-06  4.71e-07   136s
  30   6.84010459e+02  6.83975305e+02  1.38e-05 1.43e-07  4.99e-08   139s
  31   6.84000019e+02  6.83999825e+02  2.55e-08 2.26e-07  2.73e-10   142s
  32   6.84000000e+02  6.84000000e+02  3.05e-12 9.59e-11  2.73e-13   145s

Barrier solved model in 32 iterations and 144.78 seconds (44.87 work units)
Optimal objective 6.84000000e+02


Root crossover log...

    9185 DPushes remaining with DInf 0.0000000e+00               146s
       0 DPushes remaining with DInf 0.0000000e+00               147s

  175964 PPushes remaining with PInf 0.0000000e+00               147s
   66681 PPushes remaining with PInf 0.0000000e+00               150s
   44232 PPushes remaining with PInf 0.0000000e+00               155s
   31339 PPushes remaining with PInf 0.0000000e+00               160s
   24540 PPushes remaining with PInf 0.0000000e+00               165s
   19593 PPushes remaining with PInf 0.0000000e+00               170s
   17590 PPushes remaining with PInf 0.0000000e+00               176s
   16376 PPushes remaining with PInf 0.0000000e+00               180s
   15024 PPushes remaining with PInf 0.0000000e+00               186s
   14087 PPushes remaining with PInf 0.0000000e+00               190s
   12676 PPushes remaining with PInf 0.0000000e+00               197s
   12055 PPushes remaining with PInf 0.0000000e+00               200s
   11053 PPushes remaining with PInf 0.0000000e+00               205s
   10084 PPushes remaining with PInf 0.0000000e+00               211s
    9164 PPushes remaining with PInf 0.0000000e+00               217s
    8578 PPushes remaining with PInf 0.0000000e+00               221s
    8003 PPushes remaining with PInf 0.0000000e+00               226s
    7430 PPushes remaining with PInf 0.0000000e+00               231s
    6839 PPushes remaining with PInf 0.0000000e+00               236s
    6247 PPushes remaining with PInf 0.0000000e+00               241s
    5666 PPushes remaining with PInf 0.0000000e+00               246s
    5072 PPushes remaining with PInf 0.0000000e+00               252s
    4784 PPushes remaining with PInf 0.0000000e+00               255s
    4202 PPushes remaining with PInf 0.0000000e+00               261s
    3615 PPushes remaining with PInf 0.0000000e+00               268s
    3330 PPushes remaining with PInf 0.0000000e+00               271s
    2739 PPushes remaining with PInf 0.0000000e+00               278s
    2449 PPushes remaining with PInf 0.0000000e+00               282s
    2150 PPushes remaining with PInf 0.0000000e+00               286s
    1824 PPushes remaining with PInf 0.0000000e+00               291s
    1535 PPushes remaining with PInf 0.0000000e+00               295s
    1237 PPushes remaining with PInf 0.0000000e+00               300s
     658 PPushes remaining with PInf 0.0000000e+00               310s
     369 PPushes remaining with PInf 0.0000000e+00               315s
      79 PPushes remaining with PInf 0.0000000e+00               320s
       0 PPushes remaining with PInf 0.0000000e+00               323s

  Push phase complete: Pinf 0.0000000e+00, Dinf 7.2402764e-10    323s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  184517    6.8400000e+02   0.000000e+00   0.000000e+00    323s
Concurrent spin time: 0.01s

Solved with barrier
  184517    6.8400000e+02   0.000000e+00   0.000000e+00    324s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    7230 DPushes remaining with DInf 0.0000000e+00               324s

   24291 PPushes remaining with PInf 0.0000000e+00               325s
    5429 PPushes remaining with PInf 0.0000000e+00               325s
    1133 PPushes remaining with PInf 0.0000000e+00               331s
      45 PPushes remaining with PInf 0.0000000e+00               337s
       0 PPushes remaining with PInf 0.0000000e+00               338s

  Push phase complete: Pinf 0.0000000e+00, Dinf 4.8850522e-10    338s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  208811    6.8400000e+02   0.000000e+00   0.000000e+00    339s
  208811    6.8400000e+02   0.000000e+00   0.000000e+00    339s

Root relaxation: objective 6.840000e+02, 208811 iterations, 307.37 seconds (79.59 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  684.00000    0 20326          -  684.00000      -     -  715s
     0     0  684.00000    0 20326          -  684.00000      -     - 1168s
     0     2  684.00000    0 20326          -  684.00000      -     - 2570s
