1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': True}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_4_15.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-08 13:02:00,952 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-08 13:02:00,952 - DEBUG - Args: {'use_lazy_constraints': True}[0m
[34m2025-01-08 13:02:00,952 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_4_15.txt[0m
[34m2025-01-08 13:02:00,960 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,960 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,960 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,960 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,960 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,960 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,961 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 13:02:00,962 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,963 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,964 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,964 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,964 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,964 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,964 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,964 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,964 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,964 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,965 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,966 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,966 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,966 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,966 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,966 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,980 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,980 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,981 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,981 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Instance data:[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Number of patients: 30[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Number of beds: 40[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Average number of treatments per patient: 26.5[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Average number of treatment per stayed day: 2.2910662824207493[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Number of treatments: 795[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Number of resources: 10[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 22.441666666666695[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 41.99166666666666[0m
[34m2025-01-08 13:02:00,981 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 15.5[0m
[34m2025-01-08 13:02:00,982 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 6.75[0m
[32m2025-01-08 13:02:00,982 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-08 13:02:00,982 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-08 13:02:00,982 - DEBUG - Setting options: Solver[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- number_of_threads to 1 (default)[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-08 13:02:00,982 - DEBUG -  ---- log_to_file to True (default)[0m
[32m2025-01-08 13:02:01,021 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 1
Set parameter Cuts to value 0
Set parameter LazyConstraints to value 1
[34m2025-01-08 13:02:04,568 - DEBUG - Variables created.[0m
[34m2025-01-08 13:02:09,241 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-08 13:02:09,865 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-08 13:02:10,330 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-08 13:02:10,333 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-08 13:02:10,333 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-08 13:02:10,603 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-08 13:02:11,933 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-08 13:02:13,532 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-08 13:02:13,661 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-08 13:02:13,693 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-08 13:02:13,724 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-08 13:02:13,724 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-08 13:02:15,372 - INFO - Time to create model: 14.351[0m
[32m2025-01-08 13:02:15,373 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 1 threads

Optimize a model with 633776 rows, 492899 columns and 3055966 nonzeros
Model fingerprint: 0x47236cd8
Variable types: 2 continuous, 492897 integer (492897 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 3e+03]
Presolve removed 267257 rows and 175595 columns (presolve time = 5s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 10s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 15s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 20s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 25s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 30s) ...
Presolve removed 275039 rows and 178173 columns (presolve time = 35s) ...
Presolve removed 274953 rows and 178087 columns
Presolve time: 35.78s
Presolved: 358823 rows, 314812 columns, 1745713 nonzeros
Variable types: 0 continuous, 314812 integer (314725 binary)
Root relaxation presolved: 358669 rows, 314966 columns, 1722939 nonzeros


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0   -6.8760000e+03   1.153964e+05   0.000000e+00     40s
   12382   -1.4360000e+03   4.161474e+04   0.000000e+00     40s
   32239    6.6800595e+02   4.828971e+03   0.000000e+00     45s
   38498    6.7600600e+02   4.469432e+04   0.000000e+00     50s
   41918    6.7600602e+02   9.371977e+03   0.000000e+00     55s
   45338    6.8400603e+02   5.257861e+03   0.000000e+00     60s
   47903    6.8400604e+02   5.376055e+03   0.000000e+00     65s
   50183    6.8400604e+02   5.614471e+03   0.000000e+00     71s
   52178    6.8400605e+02   4.808833e+03   0.000000e+00     76s
   53603    6.8400605e+02   3.559929e+03   0.000000e+00     80s
   55313    6.8400606e+02   5.153419e+03   0.000000e+00     85s
   57023    6.8400606e+02   3.844976e+03   0.000000e+00     91s
   58448    6.8400607e+02   1.110528e+04   0.000000e+00     96s
   60158    6.8400607e+02   1.370961e+03   0.000000e+00    101s
   61868    6.8400610e+02   2.629436e+03   0.000000e+00    105s
   63863    6.8400612e+02   2.571458e+04   0.000000e+00    110s
   65573    6.8400613e+02   8.143073e+03   0.000000e+00    115s
   67283    6.8400615e+02   2.527812e+03   0.000000e+00    121s
   68708    6.8400616e+02   3.049624e+03   0.000000e+00    125s
   70133    6.8400617e+02   5.119807e+03   0.000000e+00    130s
   71558    6.8400618e+02   2.251417e+03   0.000000e+00    136s
   72698    6.8400618e+02   3.407807e+03   0.000000e+00    140s
   74123    6.8400619e+02   6.950887e+03   0.000000e+00    146s
   75548    6.8400620e+02   2.799991e+03   0.000000e+00    151s
   76688    6.8400621e+02   4.683620e+03   0.000000e+00    155s
   78113    6.8400621e+02   3.559237e+03   0.000000e+00    161s
   79248    6.8400622e+02   1.954568e+03   0.000000e+00    165s
   80368    6.8400622e+02   1.037580e+03   0.000000e+00    171s
   81438    6.8400623e+02   1.625867e+03   0.000000e+00    176s
   82278    6.8400623e+02   4.218890e+02   0.000000e+00    180s
   83373    6.8400624e+02   3.061463e+03   0.000000e+00    185s
   84433    6.8400624e+02   2.892997e+03   0.000000e+00    191s
   85483    6.8400625e+02   1.054134e+03   0.000000e+00    196s
   86513    6.8400625e+02   4.807519e+03   0.000000e+00    201s
   87583    6.8400625e+02   9.658249e+02   0.000000e+00    206s
   88353    6.8400626e+02   1.539841e+03   0.000000e+00    210s
   89388    6.8400626e+02   1.591444e+03   0.000000e+00    215s
   90288    6.8400626e+02   1.224730e+03   0.000000e+00    221s
   91198    6.8400627e+02   1.355546e+03   0.000000e+00    226s
   91828    6.8400627e+02   4.160663e+03   0.000000e+00    230s
   92628    6.8400627e+02   1.054751e+03   0.000000e+00    236s
   93398    6.8400627e+02   8.894479e+02   0.000000e+00    241s
   94178    6.8400627e+02   3.827459e+02   0.000000e+00    246s
   94778    6.8400627e+02   3.822734e+02   0.000000e+00    250s
   95578    6.8400628e+02   7.952752e+02   0.000000e+00    256s
   96348    6.8400628e+02   6.080144e+02   0.000000e+00    261s
   96898    6.8400628e+02   6.749413e+01   0.000000e+00    265s
   97628    6.8400628e+02   1.452201e+03   0.000000e+00    270s
   98348    6.8400628e+02   1.890828e+02   0.000000e+00    276s
   99068    6.8400628e+02   8.292223e+02   0.000000e+00    281s
   99598    6.8400628e+02   3.017409e+01   0.000000e+00    285s
  100278    6.8400628e+02   5.672292e+01   0.000000e+00    291s
  100808    6.8400628e+02   3.822162e+02   0.000000e+00    295s
  101528    6.8400628e+02   7.949997e+01   0.000000e+00    300s
  102248    6.8400628e+02   1.343186e+01   0.000000e+00    306s
  102778    6.8400628e+02   2.153712e+01   0.000000e+00    310s
  103498    6.8400628e+02   2.127760e+01   0.000000e+00    316s
  104198    6.8400628e+02   1.021322e+00   0.000000e+00    321s
  104708    6.8400628e+02   8.850671e-02   0.000000e+00    325s
  104812    6.8400000e+02   0.000000e+00   0.000000e+00    326s
  104812    6.8400000e+02   0.000000e+00   0.000000e+00    326s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    2004 DPushes remaining with DInf 0.0000000e+00               326s
       0 DPushes remaining with DInf 0.0000000e+00               326s

    5644 PPushes remaining with PInf 0.0000000e+00               326s
       0 PPushes remaining with PInf 0.0000000e+00               327s

  Push phase complete: Pinf 0.0000000e+00, Dinf 6.3476861e-11    327s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  110460    6.8400000e+02   0.000000e+00   0.000000e+00    327s
  110460    6.8400000e+02   0.000000e+00   0.000000e+00    327s

Root relaxation: objective 6.840000e+02, 110460 iterations, 289.17 seconds (262.08 work units)
Total elapsed time = 579.53s
Total elapsed time = 667.40s
Total elapsed time = 675.88s

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  684.00000    0    -          -  684.00000      -     -  680s
     0     0  684.00000    0  622          -  684.00000      -     -  696s
     0     0  684.00000    0    -          -  684.00000      -     -  718s
     0     0  684.00000    0  646          -  684.00000      -     -  734s
     0     2  684.00000    0   17          -  684.00000      -     -  839s
     2     4  684.00000    2    5          -  684.00000      - 52626  840s
     3     5  684.00000    3  391          -  684.00000      - 39242  847s
    10    12  684.00000    9  253          -  684.00000      - 11882  850s
    18    20  684.00000   16  464          -  684.00000      -  7690  863s
    26    28  684.00000   23  132          -  684.00000      -  5383  865s
    48    50  684.00000   40   19          -  684.00000      -  2966  870s
    56    58  684.00000   47  316          -  684.00000      -  2789  875s
    84    86  684.00000   70  373          -  684.00000      -  1991  888s
    91    93  684.00000   75   41          -  684.00000      -  1844  890s
    97    99  684.00000   80   55          -  684.00000      -  1886  899s
   100   102  684.00000   82 1863          -  684.00000      -  3303 1222s
   105   107  684.00000   85  228          -  684.00000      -  3190 1225s
   106   108  684.00000   86  282          -  684.00000      -  3346 1232s
   111   113  684.00000   90  278          -  684.00000      -  3209 1235s
   131   133  684.00000  106  128          -  684.00000      -  2733 1240s
   135   137  684.00000  109  145          -  684.00000      -  2687 1245s
   141   143  684.00000  113  260          -  684.00000      -  2605 1250s
   144   146  684.00000  115 1708          -  684.00000      -  3251 1416s
   148   150  684.00000  118   67          -  684.00000      -  3223 1424s
   150   152  684.00000  120   66          -  684.00000      -  3209 1427s
   151   153  684.00000  120  388          -  684.00000      -  3310 1440s
   157   159  684.00000  124  116          -  684.00000      -  3213 1445s
   158   160  684.00000  125  502          -  684.00000      -  3348 1455s
   162   164  684.00000  127 1171          -  684.00000      -  3655 1585s
   166   168  684.00000  129   69          -  684.00000      -  3641 1592s
   167   169  684.00000  130  214          -  684.00000      -  3665 1715s
   173   175  684.00000  134  234          -  684.00000      -  3632 1725s
   190   192  684.00000  149  100          -  684.00000      -  3322 1730s
   194   196  684.00000  151  272          -  684.00000      -  3308 1736s
   198   200  684.00000  154  126          -  684.00000      -  3289 1745s
   214   216  684.00000  168   21          -  684.00000      -  3053 1750s
   219   221  684.00000  172  147          -  684.00000      -  3033 1756s
   225   227  684.00000  177  469          -  684.00000      -  3023 1768s
   226   228  684.00000  177  118          -  684.00000      -  3059 1772s
   232   234  684.00000  183  131          -  684.00000      -  2987 1775s
   241   243  684.00000  190  643          -  684.00000      -  2950 1789s
   243   245  684.00000  191   53          -  684.00000      -  2925 1790s
   244   246  684.00000  192 1513          -  684.00000      -  3288 2155s
   250   252  684.00000  196   81          -  684.00000      -  3223 2160s
   257   253  684.00000    3  530          -  684.00000      -  3218 2166s
   264   260  684.00000   10  603          -  684.00000      -  3295 2197s
   269   265  684.00000   13  466          -  684.00000      -  3243 2200s
   283   279  684.00000   26  304          -  684.00000      -  3095 2205s
   288   284  684.00000   30  257          -  684.00000      -  3042 2212s
   294   290  684.00000   36  141          -  684.00000      -  2983 2215s
   300   296  684.00000   41  120          -  684.00000      -  2934 2235s
   316   312  684.00000   53  156          -  684.00000      -  2817 2241s
   332   328  684.00000   64   83          -  684.00000      -  2690 2245s
   350   346  684.00000   78  237          -  684.00000      -  2560 2250s
   372   368  684.00000   98   25          -  684.00000      -  2415 2255s
   384   380  684.00000  107   33          -  684.00000      -  2353 2260s
   390   386  684.00000  111  145          -  684.00000      -  2348 2265s
   407   403  684.00000  124  155          -  684.00000      -  2267 2271s
   422   416  684.00000  137  176          -  684.00000      -  2189 2275s
   441   434  684.00000  155   22          -  684.00000      -  2104 2280s
   457   436  684.00000    2  510          -  684.00000      -  2102 2299s
   459   438  684.00000    4  513          -  684.00000      -  2093 2300s
   461   440  684.00000    5  360          -  684.00000      -  2116 2316s
   468   447  684.00000   12  404          -  684.00000      -  2091 2320s
   480   459  684.00000   22  477          -  684.00000      -  2052 2327s
   485   464  684.00000   27  414          -  684.00000      -  2035 2330s
   504   483  684.00000   44  194          -  684.00000      -  1961 2335s
   511   489  684.00000  142  646          -  684.00000      -  1935 2434s
   512   490  684.00000   24  646          -  684.00000      -  1931 2437s
H  512   465                     884.0000000  684.00000  22.6%  1931 3412s
H  512   442                     860.0000000  684.00000  20.5%  1931 3415s
   513   442  684.00000   84  105  860.00000  684.00000  20.5%  1928 3429s
