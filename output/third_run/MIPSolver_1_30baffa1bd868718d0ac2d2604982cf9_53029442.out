1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': True}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_6_15.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-08 15:00:26,329 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-08 15:00:26,330 - DEBUG - Args: {'use_lazy_constraints': True}[0m
[34m2025-01-08 15:00:26,330 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_6_15.txt[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-08 15:00:26,349 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,350 - DEBUG - ADD RESOURCES[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,351 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,352 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - ADD PATIENTS[0m
[34m2025-01-08 15:00:26,353 - DEBUG - Instance data:[0m
[34m2025-01-08 15:00:26,354 - DEBUG - Number of patients: 21[0m
[34m2025-01-08 15:00:26,354 - DEBUG - Number of beds: 36[0m
[34m2025-01-08 15:00:26,354 - DEBUG - Average number of treatments per patient: 32.38095238095238[0m
[34m2025-01-08 15:00:26,354 - DEBUG - Average number of treatment per stayed day: 2.3859649122807016[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Number of treatments: 680[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Number of resources: 10[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 19.704166666666676[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 35.95416666666666[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 15.5[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 6.75[0m
[32m2025-01-08 15:00:26,355 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-08 15:00:26,355 - DEBUG - Setting options: Solver[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- number_of_threads to 1 (default)[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-08 15:00:26,355 - DEBUG -  ---- log_to_file to True (default)[0m
[32m2025-01-08 15:00:26,389 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 1
Set parameter Cuts to value 0
Set parameter LazyConstraints to value 1
[34m2025-01-08 15:00:29,110 - DEBUG - Variables created.[0m
[34m2025-01-08 15:00:32,291 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-08 15:00:32,732 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-08 15:00:33,061 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-08 15:00:33,063 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-08 15:00:33,063 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-08 15:00:33,294 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-08 15:00:34,271 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-08 15:00:35,649 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-08 15:00:35,740 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-08 15:00:35,762 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-08 15:00:35,783 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-08 15:00:35,783 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-08 15:00:36,500 - INFO - Time to create model: 10.11[0m
[32m2025-01-08 15:00:36,500 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 1 threads

Optimize a model with 549384 rows, 424127 columns and 2628615 nonzeros
Model fingerprint: 0x5c6e8ae4
Variable types: 2 continuous, 424125 integer (424125 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 3e+03]
Presolve removed 246842 rows and 166602 columns (presolve time = 5s) ...
Presolve removed 246842 rows and 166602 columns (presolve time = 10s) ...
Presolve removed 246842 rows and 166602 columns (presolve time = 15s) ...
Presolve removed 246842 rows and 166602 columns (presolve time = 20s) ...
Presolve removed 246842 rows and 166602 columns (presolve time = 25s) ...
Presolve removed 251506 rows and 168882 columns
Presolve time: 29.48s
Presolved: 297878 rows, 255245 columns, 1430298 nonzeros
Variable types: 0 continuous, 255245 integer (255198 binary)
Root relaxation presolved: 297755 rows, 255368 columns, 1409979 nonzeros


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0   -3.3910000e+03   1.033884e+05   0.000000e+00     32s
   25977    6.6000630e+02   3.944980e+03   0.000000e+00     35s
   34744    6.6028415e+02   7.540160e+03   0.000000e+00     40s
   38936    6.6028418e+02   1.749805e+04   0.000000e+00     45s
   42342    6.6028420e+02   1.233721e+04   0.000000e+00     50s
   44700    6.6028420e+02   1.388280e+03   0.000000e+00     55s
   46796    6.6028421e+02   1.751507e+03   0.000000e+00     60s
   49154    6.6028421e+02   3.844132e+03   0.000000e+00     66s
   50724    6.6028422e+02   1.549118e+03   0.000000e+00     70s
   52558    6.6828422e+02   1.947136e+03   0.000000e+00     76s
   53854    6.6828422e+02   7.007564e+02   0.000000e+00     80s
   55398    6.6828422e+02   8.754886e+03   0.000000e+00     86s
   56682    6.6828422e+02   8.952566e+02   0.000000e+00     90s
   57852    6.6828423e+02   3.296164e+02   0.000000e+00     95s
   59346    6.6828423e+02   5.532771e+02   0.000000e+00    101s
   60576    6.6828423e+02   1.396593e+02   0.000000e+00    105s
   61850    6.6828424e+02   1.349451e+02   0.000000e+00    110s
   62940    6.6828424e+02   4.133548e+02   0.000000e+00    115s
   64220    6.6828424e+02   1.667872e+02   0.000000e+00    121s
   65230    6.6828424e+02   7.174605e+00   0.000000e+00    126s
   66200    6.6828424e+02   1.013799e+00   0.000000e+00    131s
   66372    6.6827778e+02   0.000000e+00   0.000000e+00    132s
   66372    6.6827778e+02   0.000000e+00   0.000000e+00    132s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    3553 DPushes remaining with DInf 0.0000000e+00               132s
       0 DPushes remaining with DInf 0.0000000e+00               132s

    7887 PPushes remaining with PInf 0.0000000e+00               132s
       0 PPushes remaining with PInf 0.0000000e+00               133s

  Push phase complete: Pinf 0.0000000e+00, Dinf 7.0816303e-11    133s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
   74271    6.6827778e+02   0.000000e+00   0.000000e+00    133s
   74271    6.6827778e+02   0.000000e+00   0.000000e+00    133s

Root relaxation: objective 6.682778e+02, 74271 iterations, 102.39 seconds (105.32 work units)
Total elapsed time = 260.58s
Total elapsed time = 584.17s
Total elapsed time = 694.69s
Total elapsed time = 757.96s

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  668.27778    0 3034          -  668.27778      -     -  804s
     0     0  668.27778    0 3034          -  668.27778      -     -  809s
     0     0  668.27778    0 3034          -  668.27778      -     -  811s
     0     0  668.27778    0 2813          -  668.27778      -     - 1177s
H    0     0                     732.0000000  668.27778  8.71%     - 1179s
     0     0  668.27778    0 2813  732.00000  668.27778  8.71%     - 1370s
     0     0  668.27778    0 2813  732.00000  668.27778  8.71%     - 1375s
     0     0  668.27778    0 2833  732.00000  668.27778  8.71%     - 1586s
H    0     0                     716.0000000  668.27778  6.67%     - 1588s
H    0     0                     704.0000000  668.27778  5.07%     - 1588s
     0     0  668.27778    0 2833  704.00000  668.27778  5.07%     - 1591s
     0     0  668.27778    0 2833  704.00000  668.27778  5.07%     - 1595s
     0     2  668.27778    0 2833  704.00000  668.27778  5.07%     - 1598s
     1     3  668.27778    1 2802  704.00000  668.27778  5.07% 144399 1621s
     2     4  688.00000    1  670  704.00000  668.27778  5.07% 87577 1669s
     3     5  688.00000    2  526  704.00000  668.27778  5.07% 59296 1673s
     6     8  688.00000    4  638  704.00000  668.27778  5.07% 33366 1709s
     7     9  688.00000    4  341  704.00000  668.27778  5.07% 30196 1714s
     9    11  688.00000    6  327  704.00000  668.27778  5.07% 23552 1715s
    23    25  688.00000   18  118  704.00000  668.27778  5.07%  9548 1720s
    27    29  688.00000   21   98  704.00000  668.27778  5.07%  8190 1727s
    44    46  688.00000   35  205  704.00000  668.27778  5.07%  5269 1731s
    52    54  688.00000   42  162  704.00000  668.27778  5.07%  4490 1736s
    55    57  688.00000   44  154  704.00000  668.27778  5.07%  4247 1740s
    72    74  688.00000   56  222  704.00000  668.27778  5.07%  3342 1745s
    79    81  688.00000   61   90  704.00000  668.27778  5.07%  3067 1750s
    81    83  688.00000   62   93  704.00000  668.27778  5.07%  2991 1756s
    99   101  688.00000   75  108  704.00000  668.27778  5.07%  2466 1760s
   108   110  688.00000   83    8  704.00000  668.27778  5.07%  2263 1771s
   117   119  688.00000   91   29  704.00000  668.27778  5.07%  2152 1775s
   122   124  688.00000   95 1500  704.00000  668.27778  5.07%  2765 1831s
   130   132  688.00000  102   91  704.00000  668.27778  5.07%  2614 1837s
   135   137  688.00000  105  108  704.00000  668.27778  5.07%  2519 1849s
   136   138  688.00000  105   56  704.00000  668.27778  5.07%  2500 1850s
   153   155  688.00000  119   80  704.00000  668.27778  5.07%  2257 1855s
   158   160  688.00000  122   35  704.00000  668.27778  5.07%  2189 1860s
   162   164  688.00000  125    4  704.00000  668.27778  5.07%  2136 1874s
   165   167  688.00000  127   44  704.00000  668.27778  5.07%  2098 1875s
   182   184  688.00000  139   32  704.00000  668.27778  5.07%  1923 1884s
   185   187  688.00000  141  111  704.00000  668.27778  5.07%  1898 1885s
   189   191  688.00000  143   89  704.00000  668.27778  5.07%  1861 1895s
   204   206  688.00000  155  190  704.00000  668.27778  5.07%  1737 1900s
   208   210  688.00000  158  120  704.00000  668.27778  5.07%  1705 1909s
   209   211  688.00000  159  116  704.00000  668.27778  5.07%  1697 1910s
   216   218  688.00000  164   22  704.00000  668.27778  5.07%  1647 1929s
   218   220  688.00000  166   11  704.00000  668.27778  5.07%  1633 1930s
   233   235  688.00000  176   39  704.00000  668.27778  5.07%  1531 1935s
   235   237  688.00000  178   43  704.00000  668.27778  5.07%  1518 1940s
*  243     5             183     688.0000000  668.27778  2.87%  1473 1942s
   246     3  668.27778    2 2898  688.00000  668.27778  2.87%  1566 2001s
   247     4  668.27778    3 3753  688.00000  668.27778  2.87%  1939 2083s
   250     5  668.27778    5 4073  688.00000  668.27778  2.87%  2339 2203s
   251     6  668.27778    5 3395  688.00000  668.27778  2.87%  2434 2223s
   253     8  668.27778    7 4071  688.00000  668.27778  2.87%  2788 2332s
   254     9  668.27778    7 3257  688.00000  668.27778  2.87%  2900 2352s
   255    10  668.27778    8 3917  688.00000  668.27778  2.87%  3243 2436s
   256    11  668.27778    8 3120  688.00000  668.27778  2.87%  3321 2450s
   257    12  668.27778    9 4145  688.00000  668.27778  2.87%  3672 2566s
   258    13  668.27778    9 3161  688.00000  668.27778  2.87%  3728 2577s
   259    14  668.27778   10 3119  688.00000  668.27778  2.87%  3749 2594s
   260    15  668.27778   11 4052  688.00000  668.27778  2.87%  4026 2645s
   261    16  668.27778   11 3093  688.00000  668.27778  2.87%  4086 2655s
   262    17  668.27778   12 3745  688.00000  668.27778  2.87%  4369 2699s
   263    18  668.27778   12 3108  688.00000  668.27778  2.87%  4450 2710s
   264    19  668.27778   13 3830  688.00000  668.27778  2.87%  4779 2782s
   265    20  668.27778   13 3154  688.00000  668.27778  2.87%  4861 2794s
   266    21  668.27778   14 3133  688.00000  668.27778  2.87%  4936 2805s
   267    22  668.27778   15 3666  688.00000  668.27778  2.87%  5213 2845s
   268    23  668.27778   15 3122  688.00000  668.27778  2.87%  5270 2856s
   269    24  668.27778   16 3079  688.00000  668.27778  2.87%  5290 2862s
   270    25  668.27778   16 3140  688.00000  668.27778  2.87%  5374 2876s
   271    26  668.27778   17 3035  688.00000  668.27778  2.87%  5402 2883s
   273    28  668.27778   18 3608  688.00000  668.27778  2.87%  5644 2977s
   274    29  668.27778   18 3045  688.00000  668.27778  2.87%  5665 2983s
   275    30  668.27778   19 3825  688.00000  668.27778  2.87%  5923 3034s
   276    31  668.27778   19 3100  688.00000  668.27778  2.87%  5976 3043s
   278    33  668.27778   21 3694  688.00000  668.27778  2.87%  6167 3073s
   279    34  668.27778   21 3078  688.00000  668.27778  2.87%  6200 3080s
   280    35  668.27778   22 3723  688.00000  668.27778  2.87%  6491 3136s
   281    36  668.27778   22 3037  688.00000  668.27778  2.87%  6536 3145s
   282    37  668.27778   23 3078  688.00000  668.27778  2.87%  6545 3155s
   285    40  668.27778   25 3076  688.00000  668.27778  2.87%  6572 3167s
   286    41  668.27778   26 3073  688.00000  668.27778  2.87%  6620 3180s
   288    43  668.27778   27 3850  688.00000  668.27778  2.87%  6867 3229s
   289    44  668.27778   27 3052  688.00000  668.27778  2.87%  6901 3235s
   290    45  668.27778   28 3677  688.00000  668.27778  2.87%  7147 3270s
   291    46  668.27778   28 3046  688.00000  668.27778  2.87%  7202 3278s
   296    47  668.27778   31 3048  688.00000  668.27778  2.87%  7149 3295s
   300    51  668.27778   33 2996  688.00000  668.27778  2.87%  7066 3354s
   303    54  668.27778   35 3811  688.00000  668.27778  2.87%  7243 3391s
   304    55  668.27778   35 2970  688.00000  668.27778  2.87%  7295 3401s
   305    56  668.27778   36 3735  688.00000  668.27778  2.87%  7513 3436s
   306    57  668.27778   36 2945  688.00000  668.27778  2.87%  7534 3445s
   307    58  668.27778   37 3727  688.00000  668.27778  2.87%  7764 3485s
   308    59  668.27778   37 3036  688.00000  668.27778  2.87%  7819 3496s
   312    63  668.27778   40 3014  688.00000  668.27778  2.87%  7729 3502s
   313    64  668.27778   40 2993  688.00000  668.27778  2.87%  7751 3510s
   315    66  668.27778   42 2926  688.00000  668.27778  2.87%  7769 3525s
   316    67  668.27778   43 3855  688.00000  668.27778  2.87%  8033 3579s
   317    68  668.27778   43 2977  688.00000  668.27778  2.87%  8078 3592s
