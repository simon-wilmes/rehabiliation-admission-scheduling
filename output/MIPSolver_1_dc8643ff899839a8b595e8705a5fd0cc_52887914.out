1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': True}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_4_15.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-01 14:45:28,977 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-01 14:45:28,977 - DEBUG - Args: {'use_lazy_constraints': True}[0m
[34m2025-01-01 14:45:28,978 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_4_15.txt[0m
[34m2025-01-01 14:45:28,979 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,979 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,979 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,979 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,980 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:28,981 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,982 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,983 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,984 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,985 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,985 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,985 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,985 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,986 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,986 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,986 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,986 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:28,986 - DEBUG - Instance data:[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of patients: 30[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of beds: 40[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Average number of treatments per patient: 26.5[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Average number of treatment per stayed day: 2.2910662824207493[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of treatments: 795[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of resources: 10[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 22.441666666666695[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 41.99166666666666[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 15.5[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 6.75[0m
[32m2025-01-01 14:45:28,987 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-01 14:45:28,987 - DEBUG - Setting options: Solver[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- number_of_threads to 4 (default)[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-01 14:45:28,987 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-01 14:45:28,988 - DEBUG -  ---- log_to_file to True (default)[0m
[34m2025-01-01 14:45:28,988 - DEBUG -  ---- no_rel_heur_time to 1 (default)[0m
[32m2025-01-01 14:45:29,022 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 4
Set parameter Cuts to value 0
Set parameter NoRelHeurTime to value 1
Set parameter LazyConstraints to value 1
[34m2025-01-01 14:45:32,241 - DEBUG - Variables created.[0m
[34m2025-01-01 14:45:36,518 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-01 14:45:37,083 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-01 14:45:37,526 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-01 14:45:37,528 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-01 14:45:37,528 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-01 14:45:37,784 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-01 14:45:39,033 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-01 14:45:40,500 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-01 14:45:40,622 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-01 14:45:40,650 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 14:45:40,677 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 14:45:40,678 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-01 14:45:42,177 - INFO - Time to create model: 13.154[0m
[32m2025-01-01 14:45:42,177 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 4 threads

Optimize a model with 633776 rows, 492899 columns and 3055966 nonzeros
Model fingerprint: 0x47236cd8
Variable types: 2 continuous, 492897 integer (492897 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 3e+03]
Presolve removed 267257 rows and 175595 columns (presolve time = 5s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 10s) ...
Presolve removed 267257 rows and 175595 columns (presolve time = 15s) ...
Presolve removed 267257 rows and 177919 columns (presolve time = 20s) ...
Presolve removed 267257 rows and 177919 columns (presolve time = 25s) ...
Presolve removed 275039 rows and 178173 columns (presolve time = 30s) ...
Presolve removed 274953 rows and 178087 columns
Presolve time: 34.65s
Presolved: 358823 rows, 314812 columns, 1745713 nonzeros
Variable types: 0 continuous, 314812 integer (314725 binary)
Starting NoRel heuristic
Found phase-1 solution: relaxation 115
Found phase-1 solution: relaxation 113
Root relaxation presolved: 358669 rows, 314966 columns, 1722939 nonzeros

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Elapsed ordering time = 5s
Elapsed ordering time = 10s
Ordering time: 14.73s

Barrier statistics:
 Dense cols : 47
 AA' NZ     : 4.425e+06
 Factor NZ  : 3.674e+07 (roughly 500 MB of memory)
 Factor Ops : 9.721e+09 (less than 1 second per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0  -6.22968276e+06 -4.58263621e+06  1.48e+05 1.49e+00  1.01e+03    60s
   1  -4.93672997e+06 -4.81993439e+06  1.17e+05 1.58e+01  8.08e+02    63s
   2  -4.02660534e+06 -5.53118899e+06  9.54e+04 3.96e+00  6.52e+02    66s
   3  -1.53702718e+06 -5.47534269e+06  3.65e+04 1.91e-01  2.53e+02    71s
   4  -2.41113515e+05 -4.73938983e+06  5.78e+03 2.51e-02  4.43e+01    75s
   5  -1.28214121e+05 -3.54342329e+06  3.10e+03 5.07e-03  2.37e+01    79s
   6  -5.10394171e+04 -2.64404736e+06  1.27e+03 1.88e-13  1.09e+01    83s
   7  -1.98645427e+04 -1.81841787e+06  5.14e+02 1.95e-13  5.27e+00    87s
   8  -1.43762530e+04 -1.53097692e+06  3.80e+02 1.58e-13  4.08e+00    91s
   9  -1.23453342e+04 -1.32640173e+06  3.30e+02 1.90e-13  3.49e+00    94s
  10  -1.07357677e+04 -1.12733272e+06  2.89e+02 1.76e-13  2.96e+00    97s
  11  -8.55719815e+03 -9.39872823e+05  2.32e+02 1.31e-13  2.39e+00   100s
  12  -5.48518947e+03 -4.73980062e+05  1.53e+02 1.37e-13  1.28e+00   103s
  13  -3.40713101e+03 -3.32449512e+05  1.01e+02 2.09e-13  8.42e-01   107s
  14  -9.42143359e+02 -1.72517148e+05  4.06e+01 1.64e-13  3.74e-01   112s
  15   2.81373301e+02 -9.53400056e+04  1.07e+01 1.80e-13  1.62e-01   116s
  16   6.07988456e+02 -5.52238492e+04  2.67e+00 9.48e-14  8.31e-02   120s
  17   6.95207639e+02 -1.50592506e+04  5.05e-01 1.12e-13  2.24e-02   123s
  18   6.98666473e+02 -3.72234911e+03  2.72e-01 8.60e-06  6.25e-03   126s
  19   6.96188150e+02 -8.31640461e+02  2.04e-01 1.82e-04  2.16e-03   129s
  20   6.89689667e+02  3.35949725e+02  3.95e-02 3.25e-05  4.97e-04   133s
  21   6.85931643e+02  6.36770353e+02  5.91e-03 7.35e-05  6.90e-05   138s
  22   6.84846778e+02  6.46109821e+02  1.90e-03 5.62e-05  5.42e-05   142s
  23   6.84521741e+02  6.60199826e+02  9.13e-04 3.35e-05  3.40e-05   145s
  24   6.84423674e+02  6.66645530e+02  7.12e-04 2.48e-05  2.49e-05   148s
  25   6.84284647e+02  6.71989317e+02  4.35e-04 1.66e-05  1.72e-05   152s
  26   6.84211423e+02  6.75027344e+02  2.36e-04 1.22e-05  1.28e-05   156s
  27   6.84166945e+02  6.80828793e+02  1.66e-04 4.09e-06  4.67e-06   161s
  28   6.84069898e+02  6.82700046e+02  6.15e-05 1.94e-06  1.92e-06   165s
  29   6.84017598e+02  6.83681171e+02  2.29e-05 3.37e-06  4.71e-07   169s
  30   6.84010459e+02  6.83975305e+02  1.38e-05 1.43e-07  4.99e-08   172s
  31   6.84000019e+02  6.83999825e+02  2.55e-08 2.26e-07  2.73e-10   175s
  32   6.84000000e+02  6.84000000e+02  3.05e-12 9.59e-11  2.73e-13   178s

Barrier solved model in 32 iterations and 178.23 seconds (44.87 work units)
Optimal objective 6.84000000e+02


Root crossover log...

    9185 DPushes remaining with DInf 0.0000000e+00               180s
     348 DPushes remaining with DInf 0.0000000e+00               180s
       0 DPushes remaining with DInf 0.0000000e+00               180s

  175964 PPushes remaining with PInf 0.0000000e+00               180s
   63871 PPushes remaining with PInf 0.0000000e+00               185s
   41569 PPushes remaining with PInf 0.0000000e+00               190s
   31339 PPushes remaining with PInf 0.0000000e+00               195s
   24902 PPushes remaining with PInf 0.0000000e+00               200s
   19896 PPushes remaining with PInf 0.0000000e+00               205s
   18285 PPushes remaining with PInf 0.0000000e+00               210s
   16681 PPushes remaining with PInf 0.0000000e+00               216s
   15654 PPushes remaining with PInf 0.0000000e+00               221s
   14718 PPushes remaining with PInf 0.0000000e+00               226s
   13708 PPushes remaining with PInf 0.0000000e+00               231s
   12676 PPushes remaining with PInf 0.0000000e+00               237s
   12055 PPushes remaining with PInf 0.0000000e+00               241s
   11411 PPushes remaining with PInf 0.0000000e+00               245s
   10388 PPushes remaining with PInf 0.0000000e+00               251s
    9778 PPushes remaining with PInf 0.0000000e+00               256s
    9164 PPushes remaining with PInf 0.0000000e+00               261s
    8578 PPushes remaining with PInf 0.0000000e+00               266s
    8003 PPushes remaining with PInf 0.0000000e+00               272s
    7430 PPushes remaining with PInf 0.0000000e+00               277s
    7142 PPushes remaining with PInf 0.0000000e+00               280s
    6536 PPushes remaining with PInf 0.0000000e+00               286s
    5952 PPushes remaining with PInf 0.0000000e+00               293s
    5666 PPushes remaining with PInf 0.0000000e+00               296s
    5072 PPushes remaining with PInf 0.0000000e+00               303s
    4784 PPushes remaining with PInf 0.0000000e+00               307s
    4491 PPushes remaining with PInf 0.0000000e+00               310s
    3915 PPushes remaining with PInf 0.0000000e+00               318s
    3615 PPushes remaining with PInf 0.0000000e+00               322s
    3330 PPushes remaining with PInf 0.0000000e+00               326s
    3032 PPushes remaining with PInf 0.0000000e+00               330s
    2449 PPushes remaining with PInf 0.0000000e+00               339s
    2150 PPushes remaining with PInf 0.0000000e+00               344s
    1824 PPushes remaining with PInf 0.0000000e+00               350s
    1535 PPushes remaining with PInf 0.0000000e+00               356s
    1237 PPushes remaining with PInf 0.0000000e+00               361s
     946 PPushes remaining with PInf 0.0000000e+00               367s
     658 PPushes remaining with PInf 0.0000000e+00               372s
     369 PPushes remaining with PInf 0.0000000e+00               378s
      79 PPushes remaining with PInf 0.0000000e+00               384s
       0 PPushes remaining with PInf 0.0000000e+00               386s

  Push phase complete: Pinf 0.0000000e+00, Dinf 7.2402764e-10    386s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  184517    6.8400000e+02   0.000000e+00   0.000000e+00    387s
Concurrent spin time: 0.01s

Solved with barrier
  184517    6.8400000e+02   0.000000e+00   0.000000e+00    388s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

    7230 DPushes remaining with DInf 0.0000000e+00               388s

   24291 PPushes remaining with PInf 0.0000000e+00               388s
    3094 PPushes remaining with PInf 0.0000000e+00               390s
    1133 PPushes remaining with PInf 0.0000000e+00               396s
     438 PPushes remaining with PInf 0.0000000e+00               400s
       0 PPushes remaining with PInf 0.0000000e+00               404s

  Push phase complete: Pinf 0.0000000e+00, Dinf 4.8850522e-10    404s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  208811    6.8400000e+02   0.000000e+00   0.000000e+00    405s
  208811    6.8400000e+02   0.000000e+00   0.000000e+00    406s

Root relaxation: objective 6.840000e+02, 208811 iterations, 368.13 seconds (79.59 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  684.00000    0 20326          -  684.00000      -     -  821s
     0     0  684.00000    0 20326          -  684.00000      -     - 1288s
     0     2  684.00000    0 20326          -  684.00000      -     - 2651s
