1.NAME: MIPSolver
2.PARAMS: {'use_lazy_constraints': True}
3.INSTANCE: /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_1_short_timeframe_5.txt
4.REPETITION: 1
Current directory: /home/wx350715/Kobra/rehabiliation-admission-scheduling
[34m2025-01-01 14:45:33,282 - DEBUG - Solver: <class 'src.solvers.mip.MIPSolver'>[0m
[34m2025-01-01 14:45:33,282 - DEBUG - Args: {'use_lazy_constraints': True}[0m
[34m2025-01-01 14:45:33,282 - DEBUG - File path /home/wx350715/Kobra/rehabiliation-admission-scheduling/data/comp_study_002/instance_1_short_timeframe_5.txt[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD INSTANCE DATA[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD RESOURCE_GROUPS[0m
[34m2025-01-01 14:45:33,294 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD RESOURCES[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:33,295 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD TREATMENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,296 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,297 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,298 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,298 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,298 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,298 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,298 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,298 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,299 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,300 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,300 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,300 - DEBUG - ADD PATIENTS[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Instance data:[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of patients: 40[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of beds: 40[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Average number of treatments per patient: 29.525[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Average number of treatment per stayed day: 2.135623869801085[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of treatments: 1181[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of resources: 9[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of resource groups: 4[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of resource hours needed per all treatment by RG(therapists): 38.3375[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of resource hours needed per all treatment by RG(rooms): 74.50000000000004[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of resource hours needed per all treatment by RG(physiotherapist): 26.0[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Number of resource hours needed per all treatment by RG(sport_room): 18.9375[0m
[32m2025-01-01 14:45:33,300 - INFO - {'solver': 'MIPSolver', 'args': {'use_lazy_constraints': True, 'enforce_min_treatments_per_day': True, 'enforce_max_treatments_per_e_w': True, 'enforce_min_patients_per_treatment': True, 'log_to_console': True}}[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Setting options: MIPSolver[0m
[34m2025-01-01 14:45:33,300 - DEBUG -  ---- use_lazy_constraints to True[0m
[34m2025-01-01 14:45:33,300 - DEBUG - Setting options: Solver[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- number_of_threads to 4 (default)[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- treatment_value to 0 (default)[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- delay_value to 1 (default)[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- missing_treatment_value to 4 (default)[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- enforce_min_treatments_per_day to True[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- enforce_max_treatments_per_e_w to True[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- enforce_min_patients_per_treatment to True[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- log_to_console to True[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- log_to_file to True (default)[0m
[34m2025-01-01 14:45:33,301 - DEBUG -  ---- no_rel_heur_time to 1 (default)[0m
[32m2025-01-01 14:45:33,334 - INFO - Create model: MIPSolver[0m
Set parameter TSPort to value 50039
Set parameter TokenServer to value "license.itc.rwth-aachen.de"
Set parameter Threads to value 4
Set parameter Cuts to value 0
Set parameter NoRelHeurTime to value 1
Set parameter LazyConstraints to value 1
[34m2025-01-01 14:45:37,495 - DEBUG - Variables created.[0m
[34m2025-01-01 14:45:42,715 - DEBUG - Constraint (p1) created.[0m
[34m2025-01-01 14:45:43,886 - DEBUG - Constraint (when_admitted) created.[0m
[34m2025-01-01 14:45:45,280 - DEBUG - Constraint (p3) created.[0m
[34m2025-01-01 14:45:45,283 - DEBUG - Constraint (p4) created.[0m
[34m2025-01-01 14:45:45,284 - DEBUG - Constraint (p7) created.[0m
[34m2025-01-01 14:45:45,865 - DEBUG - Constraint (r3) created.[0m
[34m2025-01-01 14:45:47,716 - DEBUG - Constraint (r4) created.[0m
[34m2025-01-01 14:45:49,878 - DEBUG - Constraint (a1) created.[0m
[34m2025-01-01 14:45:50,016 - DEBUG - Constraint (a4) created.[0m
[34m2025-01-01 14:45:50,061 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 14:45:50,109 - DEBUG - Constraint (a5) created.[0m
[34m2025-01-01 14:45:50,109 - DEBUG - Constraint (already_admitted) created.[0m
[32m2025-01-01 14:45:54,161 - INFO - Time to create model: 20.827[0m
[32m2025-01-01 14:45:54,161 - INFO - Solving model: MIPSolver[0m
Gurobi Optimizer version 10.0.0 build v10.0.0rc2 (linux64)

CPU model: Intel(R) Xeon(R) Platinum 8468, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 96 logical processors, using up to 4 threads

Optimize a model with 930584 rows, 700439 columns and 5314461 nonzeros
Model fingerprint: 0xe99daf71
Variable types: 2 continuous, 700437 integer (700437 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+01]
  Objective range  [1e+00, 1e+01]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 5e+03]
Presolve removed 383227 rows and 254411 columns (presolve time = 5s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 10s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 15s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 20s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 25s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 30s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 35s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 40s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 45s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 50s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 55s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 60s) ...
Presolve removed 383691 rows and 254411 columns (presolve time = 65s) ...
Presolve removed 383691 rows and 260859 columns (presolve time = 75s) ...
Presolve removed 383691 rows and 260859 columns (presolve time = 75s) ...
Presolve removed 390945 rows and 261231 columns (presolve time = 80s) ...
Presolve removed 390864 rows and 261139 columns
Presolve time: 82.19s
Presolved: 539720 rows, 439300 columns, 2977039 nonzeros
Variable types: 0 continuous, 439300 integer (439207 binary)
Starting NoRel heuristic
Found phase-1 solution: relaxation 24
Found phase-1 solution: relaxation 23
Root relaxation presolved: 539695 rows, 439325 columns, 2965094 nonzeros

Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Elapsed ordering time = 5s
Elapsed ordering time = 10s
Elapsed ordering time = 15s
Elapsed ordering time = 20s
Elapsed ordering time = 25s
Elapsed ordering time = 30s
Elapsed ordering time = 35s
Ordering time: 38.68s

Barrier statistics:
 Dense cols : 100
 AA' NZ     : 8.841e+06
 Factor NZ  : 8.666e+07 (roughly 1.0 GB of memory)
 Factor Ops : 3.941e+10 (roughly 1 second per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0  -1.38296715e+07 -2.57409034e+06  1.14e+05 4.00e+00  5.55e+02   142s
   1  -1.01997820e+07 -2.66453119e+06  8.45e+04 8.45e+00  4.13e+02   150s
   2  -8.05916880e+06 -2.70786371e+06  6.66e+04 7.21e+00  3.32e+02   157s
   3  -7.19132471e+06 -2.77730132e+06  5.86e+04 5.88e+00  2.96e+02   166s
   4  -5.48363087e+06 -2.94987319e+06  4.30e+04 3.51e+00  2.28e+02   175s
   5  -3.62805668e+06 -3.07324474e+06  2.85e+04 1.73e+00  1.52e+02   183s
   6  -2.52647512e+06 -3.05860733e+06  1.99e+04 5.89e-01  1.07e+02   193s
   7  -5.53059531e+05 -2.79902306e+06  4.37e+03 4.00e-02  2.56e+01   204s
   8  -3.65390391e+05 -2.25869102e+06  2.90e+03 2.05e-02  1.65e+01   215s
   9  -2.20596138e+05 -1.46318808e+06  1.76e+03 6.99e-03  9.45e+00   224s
  10  -1.45625070e+05 -8.98816815e+05  1.17e+03 2.42e-03  5.86e+00   233s
  11  -9.39429906e+04 -7.07560571e+05  7.65e+02 2.07e-03  3.88e+00   240s
  12  -5.81460868e+04 -5.26491199e+05  4.85e+02 2.06e-03  2.49e+00   247s
  13  -5.26104845e+04 -3.87937856e+05  4.41e+02 1.28e-03  2.13e+00   253s
  14  -4.11116510e+04 -3.33303572e+05  3.51e+02 1.11e-03  1.70e+00   259s
  15  -3.54726270e+04 -2.74832652e+05  3.08e+02 6.16e-04  1.45e+00   266s
  16  -2.55700780e+04 -2.23176571e+05  2.33e+02 3.02e-04  1.08e+00   273s
  17  -2.08314694e+04 -1.83830352e+05  1.95e+02 1.58e-04  8.86e-01   281s
  18  -1.15666393e+04 -1.38295991e+05  1.22e+02 1.27e-04  5.59e-01   289s
  19  -5.95468090e+03 -1.14204493e+05  7.65e+01 1.21e-04  3.71e-01   296s
  20  -1.12483484e+03 -8.90493336e+04  3.66e+01 8.59e-05  2.08e-01   303s
  21   1.10666185e+03 -6.71835473e+04  1.83e+01 5.72e-05  1.25e-01   311s
  22   2.23143170e+03 -4.77349600e+04  9.01e+00 4.23e-05  7.57e-02   318s
  23   2.60896924e+03 -3.59144318e+04  5.91e+00 3.30e-05  5.35e-02   324s
  24   2.82087327e+03 -2.22479446e+04  4.15e+00 2.07e-05  3.36e-02   330s
  25   3.30541863e+03 -1.40008733e+04  1.50e-01 1.32e-05  1.80e-02   336s
  26   3.32325556e+03  5.42414682e+02  8.41e-11 2.71e-06  2.86e-03   342s
  27   3.32116383e+03  3.19068629e+03  4.43e-12 1.16e-07  1.34e-04   349s
  28   3.32000438e+03  3.31986497e+03  1.42e-13 6.36e-10  1.43e-07   358s
  29   3.32000000e+03  3.31999986e+03  9.95e-14 2.80e-11  1.43e-10   365s
  30   3.32000000e+03  3.32000000e+03  3.05e-12 1.92e-11  1.43e-13   372s

Barrier solved model in 30 iterations and 372.28 seconds (123.20 work units)
Optimal objective 3.32000000e+03


Root crossover log...

    6449 DPushes remaining with DInf 0.0000000e+00               374s
       0 DPushes remaining with DInf 0.0000000e+00               375s

  228512 PPushes remaining with PInf 0.0000000e+00               375s
  138108 PPushes remaining with PInf 0.0000000e+00               375s
   55039 PPushes remaining with PInf 0.0000000e+00               386s
   42763 PPushes remaining with PInf 0.0000000e+00               390s
   33250 PPushes remaining with PInf 0.0000000e+00               395s
   28095 PPushes remaining with PInf 0.0000000e+00               400s
   25450 PPushes remaining with PInf 0.0000000e+00               405s
   23961 PPushes remaining with PInf 0.0000000e+00               410s
   22540 PPushes remaining with PInf 0.0000000e+00               415s
   21121 PPushes remaining with PInf 0.0000000e+00               421s
   20095 PPushes remaining with PInf 0.0000000e+00               426s
   19068 PPushes remaining with PInf 0.0000000e+00               431s
   18030 PPushes remaining with PInf 0.0000000e+00               437s
   17191 PPushes remaining with PInf 0.0000000e+00               441s
   16499 PPushes remaining with PInf 0.0000000e+00               445s
   15390 PPushes remaining with PInf 0.0000000e+00               452s
   14680 PPushes remaining with PInf 0.0000000e+00               456s
   13955 PPushes remaining with PInf 0.0000000e+00               461s
   13233 PPushes remaining with PInf 0.0000000e+00               465s
   12064 PPushes remaining with PInf 0.0000000e+00               472s
   11343 PPushes remaining with PInf 0.0000000e+00               476s
   10315 PPushes remaining with PInf 0.0000000e+00               482s
    9508 PPushes remaining with PInf 0.0000000e+00               487s
    8780 PPushes remaining with PInf 0.0000000e+00               492s
    8065 PPushes remaining with PInf 0.0000000e+00               496s
    7319 PPushes remaining with PInf 0.0000000e+00               502s
    6540 PPushes remaining with PInf 0.0000000e+00               507s
    5771 PPushes remaining with PInf 0.0000000e+00               513s
    5286 PPushes remaining with PInf 0.0000000e+00               516s
    4508 PPushes remaining with PInf 0.0000000e+00               523s
    4107 PPushes remaining with PInf 0.0000000e+00               528s
    3751 PPushes remaining with PInf 0.0000000e+00               531s
    3306 PPushes remaining with PInf 0.0000000e+00               535s
    2616 PPushes remaining with PInf 0.0000000e+00               544s
    2270 PPushes remaining with PInf 0.0000000e+00               548s
    1897 PPushes remaining with PInf 0.0000000e+00               553s
    1452 PPushes remaining with PInf 0.0000000e+00               559s
    1039 PPushes remaining with PInf 0.0000000e+00               566s
     622 PPushes remaining with PInf 0.0000000e+00               573s
     199 PPushes remaining with PInf 0.0000000e+00               580s
       0 PPushes remaining with PInf 0.0000000e+00               584s

  Push phase complete: Pinf 0.0000000e+00, Dinf 1.9384626e-09    585s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  229742    3.3200000e+03   0.000000e+00   0.000000e+00    586s
Concurrent spin time: 0.01s

Solved with barrier
  229742    3.3200000e+03   0.000000e+00   0.000000e+00    587s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

   11313 DPushes remaining with DInf 0.0000000e+00               587s

   13131 PPushes remaining with PInf 0.0000000e+00               587s
    1041 PPushes remaining with PInf 0.0000000e+00               590s
       0 PPushes remaining with PInf 0.0000000e+00               593s

  Push phase complete: Pinf 0.0000000e+00, Dinf 3.5097416e-10    593s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  242876    3.3200000e+03   0.000000e+00   0.000000e+00    594s
  242876    3.3200000e+03   0.000000e+00   0.000000e+00    594s

Root relaxation: objective 3.320000e+03, 242876 iterations, 504.96 seconds (132.14 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 3320.00000    0 9877          - 3320.00000      -     - 1110s
     0     0 3320.00000    0 9877          - 3320.00000      -     - 1142s
     0     0 3320.00000    0 9877          - 3320.00000      -     - 1155s
     0     0 3320.00000    0 9877          - 3320.00000      -     - 1169s
     0     0 3320.00000    0 9877          - 3320.00000      -     - 1183s
     0     0 3320.00000    0 9877          - 3320.00000      -     - 1197s
     0     0 3320.00000    0 1567          - 3320.00000      -     - 2693s
     0     0 3320.00000    0 1567          - 3320.00000      -     - 2697s
     0     0 3320.00000    0 1567          - 3320.00000      -     - 2700s
H    0     0                    3340.0000000 3320.00000  0.60%     - 2707s
     0     0 3320.00000    0 1567 3340.00000 3320.00000  0.60%     - 3001s
     0     0 3320.00000    0 1567 3340.00000 3320.00000  0.60%     - 3005s
     0     0 3320.00000    0 1567 3340.00000 3320.00000  0.60%     - 3012s
     0     0 3320.00000    0 1567 3340.00000 3320.00000  0.60%     - 3015s
